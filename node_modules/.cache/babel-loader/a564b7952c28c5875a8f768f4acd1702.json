{"ast":null,"code":"import { LightShadow } from './LightShadow.js';\nimport { MathUtils } from '../math/MathUtils.js';\nimport { PerspectiveCamera } from '../cameras/PerspectiveCamera.js';\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n  LightShadow.call(this, new PerspectiveCamera(50, 1, 0.5, 500));\n}\n\nSpotLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n  constructor: SpotLightShadow,\n  isSpotLightShadow: true,\n  updateMatrices: function (light) {\n    var camera = this.camera;\n    var fov = MathUtils.RAD2DEG * 2 * light.angle;\n    var aspect = this.mapSize.width / this.mapSize.height;\n    var far = light.distance || camera.far;\n\n    if (fov !== camera.fov || aspect !== camera.aspect || far !== camera.far) {\n      camera.fov = fov;\n      camera.aspect = aspect;\n      camera.far = far;\n      camera.updateProjectionMatrix();\n    }\n\n    LightShadow.prototype.updateMatrices.call(this, light);\n  }\n});\nexport { SpotLightShadow };","map":{"version":3,"sources":["D:/chrlab/src/component/panelComponent/Canvas/threejs/src/lights/SpotLightShadow.js"],"names":["LightShadow","MathUtils","PerspectiveCamera","SpotLightShadow","call","prototype","Object","assign","create","constructor","isSpotLightShadow","updateMatrices","light","camera","fov","RAD2DEG","angle","aspect","mapSize","width","height","far","distance","updateProjectionMatrix"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,iBAAT,QAAkC,iCAAlC;AAEA;;;;AAIA,SAASC,eAAT,GAA2B;AAE1BH,EAAAA,WAAW,CAACI,IAAZ,CAAkB,IAAlB,EAAwB,IAAIF,iBAAJ,CAAuB,EAAvB,EAA2B,CAA3B,EAA8B,GAA9B,EAAmC,GAAnC,CAAxB;AAEA;;AAEDC,eAAe,CAACE,SAAhB,GAA4BC,MAAM,CAACC,MAAP,CAAeD,MAAM,CAACE,MAAP,CAAeR,WAAW,CAACK,SAA3B,CAAf,EAAuD;AAElFI,EAAAA,WAAW,EAAEN,eAFqE;AAIlFO,EAAAA,iBAAiB,EAAE,IAJ+D;AAMlFC,EAAAA,cAAc,EAAE,UAAWC,KAAX,EAAmB;AAElC,QAAIC,MAAM,GAAG,KAAKA,MAAlB;AAEA,QAAIC,GAAG,GAAGb,SAAS,CAACc,OAAV,GAAoB,CAApB,GAAwBH,KAAK,CAACI,KAAxC;AACA,QAAIC,MAAM,GAAG,KAAKC,OAAL,CAAaC,KAAb,GAAqB,KAAKD,OAAL,CAAaE,MAA/C;AACA,QAAIC,GAAG,GAAGT,KAAK,CAACU,QAAN,IAAkBT,MAAM,CAACQ,GAAnC;;AAEA,QAAKP,GAAG,KAAKD,MAAM,CAACC,GAAf,IAAsBG,MAAM,KAAKJ,MAAM,CAACI,MAAxC,IAAkDI,GAAG,KAAKR,MAAM,CAACQ,GAAtE,EAA4E;AAE3ER,MAAAA,MAAM,CAACC,GAAP,GAAaA,GAAb;AACAD,MAAAA,MAAM,CAACI,MAAP,GAAgBA,MAAhB;AACAJ,MAAAA,MAAM,CAACQ,GAAP,GAAaA,GAAb;AACAR,MAAAA,MAAM,CAACU,sBAAP;AAEA;;AAEDvB,IAAAA,WAAW,CAACK,SAAZ,CAAsBM,cAAtB,CAAqCP,IAArC,CAA2C,IAA3C,EAAiDQ,KAAjD;AAEA;AAzBiF,CAAvD,CAA5B;AA8BA,SAAST,eAAT","sourcesContent":["import { LightShadow } from './LightShadow.js';\nimport { MathUtils } from '../math/MathUtils.js';\nimport { PerspectiveCamera } from '../cameras/PerspectiveCamera.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tvar camera = this.camera;\n\n\t\tvar fov = MathUtils.RAD2DEG * 2 * light.angle;\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\n\t\tvar far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\n\nexport { SpotLightShadow };\n"]},"metadata":{},"sourceType":"module"}