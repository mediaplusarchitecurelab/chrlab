{"ast":null,"code":"import { Path } from './Path.js';\nimport { MathUtils } from '../../math/MathUtils.js';\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape(points) {\n  Path.call(this, points);\n  this.uuid = MathUtils.generateUUID();\n  this.type = 'Shape';\n  this.holes = [];\n}\n\nShape.prototype = Object.assign(Object.create(Path.prototype), {\n  constructor: Shape,\n  getPointsHoles: function (divisions) {\n    var holesPts = [];\n\n    for (var i = 0, l = this.holes.length; i < l; i++) {\n      holesPts[i] = this.holes[i].getPoints(divisions);\n    }\n\n    return holesPts;\n  },\n  // get points of shape and holes (keypoints based on segments parameter)\n  extractPoints: function (divisions) {\n    return {\n      shape: this.getPoints(divisions),\n      holes: this.getPointsHoles(divisions)\n    };\n  },\n  copy: function (source) {\n    Path.prototype.copy.call(this, source);\n    this.holes = [];\n\n    for (var i = 0, l = source.holes.length; i < l; i++) {\n      var hole = source.holes[i];\n      this.holes.push(hole.clone());\n    }\n\n    return this;\n  },\n  toJSON: function () {\n    var data = Path.prototype.toJSON.call(this);\n    data.uuid = this.uuid;\n    data.holes = [];\n\n    for (var i = 0, l = this.holes.length; i < l; i++) {\n      var hole = this.holes[i];\n      data.holes.push(hole.toJSON());\n    }\n\n    return data;\n  },\n  fromJSON: function (json) {\n    Path.prototype.fromJSON.call(this, json);\n    this.uuid = json.uuid;\n    this.holes = [];\n\n    for (var i = 0, l = json.holes.length; i < l; i++) {\n      var hole = json.holes[i];\n      this.holes.push(new Path().fromJSON(hole));\n    }\n\n    return this;\n  }\n});\nexport { Shape };","map":{"version":3,"sources":["H:/chrlab/src/component/panelComponent/Canvas/threejs/src/extras/core/Shape.js"],"names":["Path","MathUtils","Shape","points","call","uuid","generateUUID","type","holes","prototype","Object","assign","create","constructor","getPointsHoles","divisions","holesPts","i","l","length","getPoints","extractPoints","shape","copy","source","hole","push","clone","toJSON","data","fromJSON","json"],"mappings":"AAAA,SAASA,IAAT,QAAqB,WAArB;AACA,SAASC,SAAT,QAA0B,yBAA1B;AAEA;;;;AAKA;AACA;AACA;AACA;AACA;;AAEA,SAASC,KAAT,CAAgBC,MAAhB,EAAyB;AAExBH,EAAAA,IAAI,CAACI,IAAL,CAAW,IAAX,EAAiBD,MAAjB;AAEA,OAAKE,IAAL,GAAYJ,SAAS,CAACK,YAAV,EAAZ;AAEA,OAAKC,IAAL,GAAY,OAAZ;AAEA,OAAKC,KAAL,GAAa,EAAb;AAEA;;AAEDN,KAAK,CAACO,SAAN,GAAkBC,MAAM,CAACC,MAAP,CAAeD,MAAM,CAACE,MAAP,CAAeZ,IAAI,CAACS,SAApB,CAAf,EAAgD;AAEjEI,EAAAA,WAAW,EAAEX,KAFoD;AAIjEY,EAAAA,cAAc,EAAE,UAAWC,SAAX,EAAuB;AAEtC,QAAIC,QAAQ,GAAG,EAAf;;AAEA,SAAM,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,KAAKV,KAAL,CAAWW,MAAhC,EAAwCF,CAAC,GAAGC,CAA5C,EAA+CD,CAAC,EAAhD,EAAsD;AAErDD,MAAAA,QAAQ,CAAEC,CAAF,CAAR,GAAgB,KAAKT,KAAL,CAAYS,CAAZ,EAAgBG,SAAhB,CAA2BL,SAA3B,CAAhB;AAEA;;AAED,WAAOC,QAAP;AAEA,GAhBgE;AAkBjE;AAEAK,EAAAA,aAAa,EAAE,UAAWN,SAAX,EAAuB;AAErC,WAAO;AAENO,MAAAA,KAAK,EAAE,KAAKF,SAAL,CAAgBL,SAAhB,CAFD;AAGNP,MAAAA,KAAK,EAAE,KAAKM,cAAL,CAAqBC,SAArB;AAHD,KAAP;AAOA,GA7BgE;AA+BjEQ,EAAAA,IAAI,EAAE,UAAWC,MAAX,EAAoB;AAEzBxB,IAAAA,IAAI,CAACS,SAAL,CAAec,IAAf,CAAoBnB,IAApB,CAA0B,IAA1B,EAAgCoB,MAAhC;AAEA,SAAKhB,KAAL,GAAa,EAAb;;AAEA,SAAM,IAAIS,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGM,MAAM,CAAChB,KAAP,CAAaW,MAAlC,EAA0CF,CAAC,GAAGC,CAA9C,EAAiDD,CAAC,EAAlD,EAAwD;AAEvD,UAAIQ,IAAI,GAAGD,MAAM,CAAChB,KAAP,CAAcS,CAAd,CAAX;AAEA,WAAKT,KAAL,CAAWkB,IAAX,CAAiBD,IAAI,CAACE,KAAL,EAAjB;AAEA;;AAED,WAAO,IAAP;AAEA,GA/CgE;AAiDjEC,EAAAA,MAAM,EAAE,YAAY;AAEnB,QAAIC,IAAI,GAAG7B,IAAI,CAACS,SAAL,CAAemB,MAAf,CAAsBxB,IAAtB,CAA4B,IAA5B,CAAX;AAEAyB,IAAAA,IAAI,CAACxB,IAAL,GAAY,KAAKA,IAAjB;AACAwB,IAAAA,IAAI,CAACrB,KAAL,GAAa,EAAb;;AAEA,SAAM,IAAIS,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,KAAKV,KAAL,CAAWW,MAAhC,EAAwCF,CAAC,GAAGC,CAA5C,EAA+CD,CAAC,EAAhD,EAAsD;AAErD,UAAIQ,IAAI,GAAG,KAAKjB,KAAL,CAAYS,CAAZ,CAAX;AACAY,MAAAA,IAAI,CAACrB,KAAL,CAAWkB,IAAX,CAAiBD,IAAI,CAACG,MAAL,EAAjB;AAEA;;AAED,WAAOC,IAAP;AAEA,GAjEgE;AAmEjEC,EAAAA,QAAQ,EAAE,UAAWC,IAAX,EAAkB;AAE3B/B,IAAAA,IAAI,CAACS,SAAL,CAAeqB,QAAf,CAAwB1B,IAAxB,CAA8B,IAA9B,EAAoC2B,IAApC;AAEA,SAAK1B,IAAL,GAAY0B,IAAI,CAAC1B,IAAjB;AACA,SAAKG,KAAL,GAAa,EAAb;;AAEA,SAAM,IAAIS,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGa,IAAI,CAACvB,KAAL,CAAWW,MAAhC,EAAwCF,CAAC,GAAGC,CAA5C,EAA+CD,CAAC,EAAhD,EAAsD;AAErD,UAAIQ,IAAI,GAAGM,IAAI,CAACvB,KAAL,CAAYS,CAAZ,CAAX;AACA,WAAKT,KAAL,CAAWkB,IAAX,CAAiB,IAAI1B,IAAJ,GAAW8B,QAAX,CAAqBL,IAArB,CAAjB;AAEA;;AAED,WAAO,IAAP;AAEA;AAnFgE,CAAhD,CAAlB;AAwFA,SAASvB,KAAT","sourcesContent":["import { Path } from './Path.js';\nimport { MathUtils } from '../../math/MathUtils.js';\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tvar holesPts = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Path.prototype.toJSON.call( this );\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tPath.prototype.fromJSON.call( this, json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n\nexport { Shape };\n"]},"metadata":{},"sourceType":"module"}