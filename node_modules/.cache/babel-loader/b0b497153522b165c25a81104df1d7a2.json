{"ast":null,"code":"var _jsxFileName = \"H:\\\\chrlab\\\\src\\\\component\\\\panelComponent\\\\panelComponent.js\";\nimport React from 'react';\nimport { Segment } from 'semantic-ui-react';\nimport styled from 'styled-components'; //import CanvasComponent from './CanvasComponent';\n\nimport MenuComponent from '../menuComponent/menuComponent';\nimport LRPanelComponent from './lrpanelComponent';\nimport SSTablePanelComponent from './sstablepanelComponent';\nimport NoneComponent from './noneComponent';\nimport LRTabComponent from './lrtabComponent';\nimport LRTab2Component from './lrtab2Component';\nimport USDIComponent from './usdiComponent';\nimport CanvasRhinojsComponent from './Canvas/Rhinojs';\nimport CanvasParticlesComponent from './Canvas/Particles';\nimport CanvasPrototypingjsComponent from './Canvas/Prototypingjs';\nimport CanvasWeavingjsComponent from './Canvas/Weavingjs';\nimport CanvasRobotarmjsComponent from './Canvas/Robotarmjs';\nimport CanvasOpencvjsComponent from './Canvas/Opencvjs';\nimport CanvasCurationjsComponent from './Canvas/Curationjs'; // Media Project Frame\n//import OpenCVjsComponent from './Canvas/OpenCVjs';\n// stlyed \n//======================panel======================\n\nconst PanelContain = styled.div`\n    position: fixed;\n    z-index: 100;\n    width:80%;\n    height:60vh;\n    max-height:65vh;\n    margin-left: 10%;\n    top: 1.5em;\n    .Panel{\n      padding-top:1.5em;\n      opacity: 0.8;\n    }\n\t`;\n\nclass PanelComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleItemUpdate = e => {\n      // 要把會影響的state都列入，變動時renderer才會重整，否則沒列入的state就算變動了，renderer也不會重整\n      this.setState({\n        activeItem: e.target.id,\n        panelpath: './assets/json/data/' + e.target.id + '.json',\n        nonedata: false,\n        sstabledata: null,\n        activedata: null // 確認render即時改變要在setState後面加上props的callback\n\n      }, () => {\n        this.updatepanel();\n      });\n    };\n\n    this.updatepanel = () => {\n      let menuval = this.state.panelpath === null ? './assets/json/data/about.json' : this.state.panelpath;\n      fetch(menuval).then(response => {\n        return response.text();\n      }).then(data => {\n        this.setState({\n          activedata: JSON.parse(data)[0],\n          nonedata: false\n        });\n      }).then(() => {\n        // =======================SSTABLE=======================\n        if (this.state.activedata.type !== null) {\n          if (this.state.activedata.type === \"sstableall\" || this.state.activedata.type === \"sstableteam\" || this.state.activedata.type === \"lrtab2\" || this.state.activedata.type === \"lrtab\" || this.state.activedata.type === \"usdi\") {\n            let panelurl = this.state.activedata.url;\n            fetch(panelurl).then(responsetable => {\n              return responsetable.text();\n            }).then(datatable => {\n              this.setState({\n                sstabledata: JSON.parse(datatable),\n                nonedata: false\n              });\n            }).catch(errortable => {\n              console.log(errortable);\n            });\n          }\n        }\n      }).catch(error => {\n        this.setState({\n          activedata: null,\n          nonedata: true\n        });\n      });\n    };\n\n    this.panelrender = () => {\n      let panelitem = [];\n      let val = this.state.activedata;\n      console.log('a');\n\n      if (this.state.activedata !== null) {\n        if (val.type === \"lrpanel\") {\n          panelitem.push( /*#__PURE__*/React.createElement(LRPanelComponent, {\n            activedata: val,\n            key: val.title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 26\n            }\n          }));\n        } else if (val.type === \"sstableall\" || val.type === \"sstableteam\") {\n          if (this.state.sstabledata !== null) {\n            let tablejson = this.state.sstabledata;\n            let table = []; // ==============================分項\n\n            let itemw = [];\n            let items = [];\n            let itemt = [];\n            let itemd = [];\n            let itemm1 = [];\n            let itemm2 = [];\n            let itemm3 = [];\n            let itemm4 = [];\n            let itemm5 = []; // ==============================全行事曆\n\n            if (val.type === \"sstableall\") {\n              for (let i = 0; i < tablejson.feed.entry.length; i += 1) {\n                let c = tablejson.feed.entry[i].gsx$周次.$t;\n                itemw.push(c);\n                items.push(tablejson.feed.entry[i].gsx$學校行事曆.$t);\n                itemt.push(tablejson.feed.entry[i].gsx$吉甫.$t);\n                itemd.push(tablejson.feed.entry[i].gsx$工作文件.$t);\n                itemm1.push(tablejson.feed.entry[i].gsx$王霄唅.$t);\n                itemm2.push(tablejson.feed.entry[i].gsx$陳又如.$t);\n                itemm3.push(tablejson.feed.entry[i].gsx$陳嘉隆.$t);\n                itemm4.push(tablejson.feed.entry[i].gsx$蔡承恩.$t);\n                itemm5.push(tablejson.feed.entry[i].gsx$譚君恆.$t);\n              }\n\n              table = {\n                'header': ['周次', '學校行事曆', '工作規劃', '工作文件', '王霄唅', '陳又如', '陳嘉隆', '蔡承恩', '譚君恆'],\n                'week': itemw,\n                'school': items,\n                'teacher': itemt,\n                'documentpdf': itemd,\n                'member1': itemm1,\n                'member2': itemm2,\n                'member3': itemm3,\n                'member4': itemm4,\n                'member5': itemm5\n              };\n            } // ==============================各組周記\n            else if (val.type === \"sstableteam\") {\n                for (let i = 0; i < tablejson.feed.entry.length; i += 1) {\n                  let c = tablejson.feed.entry[i].gsx$周次.$t;\n                  itemw.push(c);\n                  items.push(tablejson.feed.entry[i].gsx$內容說明.$t);\n                  itemt.push(tablejson.feed.entry[i].gsx$檔案位址.$t);\n                }\n\n                table = {\n                  'header': ['周次', '內容說明', '檔案位址'],\n                  'week': itemw,\n                  'content': items,\n                  'url': itemt\n                };\n              }\n\n            panelitem.push( /*#__PURE__*/React.createElement(SSTablePanelComponent, {\n              activedata: val,\n              contentdata: table,\n              key: val.title,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 28\n              }\n            }));\n          } // ===================canvasComponent========================    \n\n        } else if (val.type === \"mediaproject\") {\n          if (val.title === \"opencv\") panelitem.push( /*#__PURE__*/React.createElement(CanvasOpencvjsComponent, {\n            activeItem: val.title,\n            key: val.title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 53\n            }\n          })); //console.log(val.title);\n\n          /*\r\n          if (val.title === \"rhinojs\") panelitem.push(<CanvasRhinojsComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"particles\") panelitem.push(<CanvasParticlesComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"prototypingjs\") panelitem.push(<CanvasPrototypingjsComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"weavingjs\") panelitem.push(<CanvasWeavingjsComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"robotarmjs\") panelitem.push(<CanvasRobotarmjsComponent activeItem={val.title} key={val.title}/>);\r\n          */\n          // ===================lrtabComponent======================== \n        } else if (val.type === \"canvasapp\") {\n          //console.log(val.title);\n          if (val.title === \"rhinojs\") panelitem.push( /*#__PURE__*/React.createElement(CanvasRhinojsComponent, {\n            activeItem: val.title,\n            key: val.title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 55\n            }\n          }));else if (val.title === \"particles\") panelitem.push( /*#__PURE__*/React.createElement(CanvasParticlesComponent, {\n            activeItem: val.title,\n            key: val.title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 62\n            }\n          }));else if (val.title === \"prototypingjs\") panelitem.push( /*#__PURE__*/React.createElement(CanvasPrototypingjsComponent, {\n            activeItem: val.title,\n            key: val.title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 66\n            }\n          }));else if (val.title === \"weavingjs\") panelitem.push( /*#__PURE__*/React.createElement(CanvasWeavingjsComponent, {\n            activeItem: val.title,\n            key: val.title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 62\n            }\n          }));else if (val.title === \"robotarmjs\") panelitem.push( /*#__PURE__*/React.createElement(CanvasRobotarmjsComponent, {\n            activeItem: val.title,\n            key: val.title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 63\n            }\n          })); // 策展\n          else if (val.title === \"archi2019\") panelitem.push( /*#__PURE__*/React.createElement(CanvasCurationjsComponent, {\n              activeItem: val.title,\n              key: val.title,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 62\n              }\n            })); // ===================lrtabComponent========================    \n        } else if (val.type === \"lrtab\") {\n          if (this.state.sstabledata !== null) {\n            let tablejson = this.state.sstabledata;\n            let table = []; // ==============================分項\n\n            let itemtopic = [];\n            let itemlecture = [];\n            let itemhardware = [];\n            let itemsoftware = [];\n            let itemmaterials = [];\n            let itemmembers = [];\n            let iteminfo = [];\n            let itempic1path = [];\n\n            for (let i = 0; i < tablejson.feed.entry.length; i += 1) {\n              itemtopic.push(tablejson.feed.entry[i].gsx$課題.$t);\n              itemlecture.push(tablejson.feed.entry[i].gsx$講師.$t);\n              itemhardware.push(tablejson.feed.entry[i].gsx$硬體.$t);\n              itemsoftware.push(tablejson.feed.entry[i].gsx$軟體.$t);\n              itemmaterials.push(tablejson.feed.entry[i].gsx$材料.$t);\n              itemmembers.push(tablejson.feed.entry[i].gsx$學員.$t);\n              iteminfo.push(tablejson.feed.entry[i].gsx$介紹.$t);\n              let itempicdir = tablejson.feed.entry[i].gsx$圖片資料夾.$t;\n              let itempic1nms = tablejson.feed.entry[i].gsx$圖片名一.$t.split(\"|\");\n              let itempic1group = [];\n              itempic1nms.forEach(function (item) {\n                itempic1group.push(itempicdir.concat(item));\n              });\n              itempic1path.push(itempic1group);\n            }\n\n            table = {\n              'topic': itemtopic,\n              'lecture': itemlecture,\n              'hardware': itemhardware,\n              'software': itemsoftware,\n              'materials': itemmaterials,\n              'members': itemmembers,\n              'info': iteminfo,\n              'pic1path': itempic1path\n            };\n            panelitem.push( /*#__PURE__*/React.createElement(LRTabComponent, {\n              activedata: val,\n              contentdata: table,\n              key: val.title,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 28\n              }\n            }));\n          } // ===================lrtab2========================     \n\n        } else if (val.type === \"lrtab2\") {\n          if (this.state.sstabledata !== null) {\n            //console.log(this.state.sstabledata);\n            let tablejson = this.state.sstabledata;\n            let table = []; // ==============================分項\n\n            let itemtitle = [];\n            let itemtopic = [];\n            let itemmembers = [];\n            let itemlecture = [];\n            let itemtool = [];\n            let itemmaterials = [];\n            let iteminfo = [];\n            let itempic1path = [];\n\n            for (let i = 0; i < tablejson.feed.entry.length; i += 1) {\n              itemtitle.push(tablejson.feed.entry[i].gsx$題目.$t);\n              itemtopic.push(tablejson.feed.entry[i].gsx$標題.$t);\n              itemmembers.push(tablejson.feed.entry[i].gsx$學員.$t);\n              itemlecture.push(tablejson.feed.entry[i].gsx$指導老師.$t);\n              itemtool.push(tablejson.feed.entry[i].gsx$工具.$t);\n              itemmaterials.push(tablejson.feed.entry[i].gsx$材料.$t);\n              iteminfo.push(tablejson.feed.entry[i].gsx$介紹.$t);\n              let itempicdir = tablejson.feed.entry[i].gsx$圖片資料夾.$t;\n              let itempic1nms = tablejson.feed.entry[i].gsx$圖片名一.$t.split(\"|\");\n              let itempic1group = [];\n              itempic1nms.forEach(function (item) {\n                itempic1group.push(itempicdir.concat(item));\n              });\n              itempic1path.push(itempic1group);\n            }\n\n            table = {\n              'title': itemtitle,\n              'topic': itemtopic,\n              'members': itemmembers,\n              'lecture': itemlecture,\n              'tool': itemtool,\n              'materials': itemmaterials,\n              'info': iteminfo,\n              'pic1path': itempic1path\n            };\n            panelitem.push( /*#__PURE__*/React.createElement(LRTab2Component, {\n              activedata: val,\n              contentdata: table,\n              key: val.title,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 28\n              }\n            }));\n          } // ===================usdiComponent========================     \n\n        } else if (val.type === \"usdi\") {\n          if (this.state.sstabledata !== null) {\n            //console.log(this.state.panelpath);\n            let tablejson = this.state.sstabledata;\n            let table = []; // ==============================分項\n\n            let itemtopic = [];\n            let itemlecture = [];\n            let itemhardware = [];\n            let itemsoftware = [];\n            let itemmaterials = [];\n            let itemmembers = [];\n            let iteminfo = [];\n            let membernum = [];\n            let memberurl = [];\n            let memberpath = [];\n\n            for (let i = 0; i < tablejson.feed.entry.length; i += 1) {\n              itemtopic.push(tablejson.feed.entry[i].gsx$課題.$t);\n              itemlecture.push(tablejson.feed.entry[i].gsx$講師.$t);\n              itemhardware.push(tablejson.feed.entry[i].gsx$平台.$t);\n              itemsoftware.push(tablejson.feed.entry[i].gsx$軟體.$t);\n              iteminfo.push(tablejson.feed.entry[i].gsx$介紹.$t);\n              itemmembers.push(tablejson.feed.entry[i].gsx$學員組成.$t);\n              membernum.push(tablejson.feed.entry[i].gsx$學員.$t);\n              memberurl.push(tablejson.feed.entry[i].gsx$網址.$t);\n              memberpath.push(tablejson.feed.entry[i].gsx$學員圖片1.$t);\n            }\n\n            table = {\n              'topic': itemtopic,\n              'lecture': itemlecture,\n              'hardware': itemhardware,\n              'software': itemsoftware,\n              'members': itemmembers,\n              'info': iteminfo,\n              'memberpath': memberpath,\n              'membernum': membernum,\n              'memberurl': memberurl\n            };\n            panelitem.push( /*#__PURE__*/React.createElement(USDIComponent, {\n              activedata: val,\n              contentdata: table,\n              key: val.title,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 28\n              }\n            }));\n          }\n        } // ===================noneCompontent========================\n\n      } else if (this.state.nonedata) {\n        panelitem.push( /*#__PURE__*/React.createElement(NoneComponent, {\n          activeItem: this.state.activeItem,\n          key: \"nonepanel\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 22\n          }\n        }));\n      }\n\n      return panelitem;\n    };\n\n    this.state = {\n      menuMap: null,\n      activeItem: null,\n      panelpath: null,\n      activedata: null,\n      sstabledata: null,\n      nonedata: false\n    };\n    this.handleItemUpdate = this.handleItemUpdate.bind(this);\n  } // create a function in parent and call it with \"this.props.fucniton\" in child component can get the tag DOM\n\n\n  componentDidMount() {\n    this.updatepanel();\n  }\n\n  componentDidCatch() {\n    this.setState({\n      nonedata: true\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(PanelContain, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(MenuComponent, {\n      menuMap: this.state.menuMap,\n      handleItemUpdate: this.handleItemUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Segment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 11\n      }\n    }, this.panelrender())));\n  }\n\n}\n\nexport default PanelComponent;","map":{"version":3,"sources":["H:/chrlab/src/component/panelComponent/panelComponent.js"],"names":["React","Segment","styled","MenuComponent","LRPanelComponent","SSTablePanelComponent","NoneComponent","LRTabComponent","LRTab2Component","USDIComponent","CanvasRhinojsComponent","CanvasParticlesComponent","CanvasPrototypingjsComponent","CanvasWeavingjsComponent","CanvasRobotarmjsComponent","CanvasOpencvjsComponent","CanvasCurationjsComponent","PanelContain","div","PanelComponent","Component","constructor","props","handleItemUpdate","e","setState","activeItem","target","id","panelpath","nonedata","sstabledata","activedata","updatepanel","menuval","state","fetch","then","response","text","data","JSON","parse","type","panelurl","url","responsetable","datatable","catch","errortable","console","log","error","panelrender","panelitem","val","push","title","tablejson","table","itemw","items","itemt","itemd","itemm1","itemm2","itemm3","itemm4","itemm5","i","feed","entry","length","c","gsx$周次","$t","gsx$學校行事曆","gsx$吉甫","gsx$工作文件","gsx$王霄唅","gsx$陳又如","gsx$陳嘉隆","gsx$蔡承恩","gsx$譚君恆","gsx$內容說明","gsx$檔案位址","itemtopic","itemlecture","itemhardware","itemsoftware","itemmaterials","itemmembers","iteminfo","itempic1path","gsx$課題","gsx$講師","gsx$硬體","gsx$軟體","gsx$材料","gsx$學員","gsx$介紹","itempicdir","gsx$圖片資料夾","itempic1nms","gsx$圖片名一","split","itempic1group","forEach","item","concat","itemtitle","itemtool","gsx$題目","gsx$標題","gsx$指導老師","gsx$工具","membernum","memberurl","memberpath","gsx$平台","gsx$學員組成","gsx$網址","gsx$學員圖片1","menuMap","bind","componentDidMount","componentDidCatch","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAuB,mBAAvB;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CAEA;;AAEA,OAAOC,aAAP,MAA0B,gCAA1B;AAEA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAIA,OAAOC,sBAAP,MAAmC,kBAAnC;AACA,OAAOC,wBAAP,MAAqC,oBAArC;AACA,OAAOC,4BAAP,MAAyC,wBAAzC;AACA,OAAOC,wBAAP,MAAqC,oBAArC;AACA,OAAOC,yBAAP,MAAsC,qBAAtC;AAEA,OAAOC,uBAAP,MAAoC,mBAApC;AAEA,OAAOC,yBAAP,MAAsC,qBAAtC,C,CACA;AACA;AAEC;AACA;;AACA,MAAMC,YAAY,GAAGf,MAAM,CAACgB,GAAI;;;;;;;;;;;;EAAhC;;AAcD,MAAMC,cAAN,SAA6BnB,KAAK,CAACoB,SAAnC,CAA6C;AAE3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAenBC,gBAfmB,GAeCC,CAAD,IAAM;AACvB;AACA,WAAKC,QAAL,CAAc;AACZC,QAAAA,UAAU,EAAEF,CAAC,CAACG,MAAF,CAASC,EADT;AAEZC,QAAAA,SAAS,EAAE,wBAAsBL,CAAC,CAACG,MAAF,CAASC,EAA/B,GAAkC,OAFjC;AAGZE,QAAAA,QAAQ,EAAE,KAHE;AAIZC,QAAAA,WAAW,EAAC,IAJA;AAKZC,QAAAA,UAAU,EAAE,IALA,CAMZ;;AANY,OAAd,EAOE,MAAI;AACJ,aAAKC,WAAL;AACD,OATD;AAYD,KA7BkB;;AAAA,SAuCnBA,WAvCmB,GAuCL,MAAI;AAEhB,UAAIC,OAAO,GAAI,KAAKC,KAAL,CAAWN,SAAX,KAAuB,IAAxB,GAAgC,+BAAhC,GAAkE,KAAKM,KAAL,CAAWN,SAA3F;AAGAO,MAAAA,KAAK,CAACF,OAAD,CAAL,CACCG,IADD,CACOC,QAAD,IAAY;AAChB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,OAHD,EAICF,IAJD,CAIOG,IAAD,IAAQ;AACZ,aAAKf,QAAL,CAAc;AACZO,UAAAA,UAAU,EAACS,IAAI,CAACC,KAAL,CAAWF,IAAX,EAAiB,CAAjB,CADC;AAEZV,UAAAA,QAAQ,EAAC;AAFG,SAAd;AAID,OATD,EASGO,IATH,CASQ,MAAI;AACV;AACA,YAAI,KAAKF,KAAL,CAAWH,UAAX,CAAsBW,IAAtB,KAA+B,IAAnC,EAAwC;AAEtC,cAAI,KAAKR,KAAL,CAAWH,UAAX,CAAsBW,IAAtB,KAA8B,YAA9B,IAA8C,KAAKR,KAAL,CAAWH,UAAX,CAAsBW,IAAtB,KAA8B,aAA5E,IAA6F,KAAKR,KAAL,CAAWH,UAAX,CAAsBW,IAAtB,KAA8B,QAA3H,IAAuI,KAAKR,KAAL,CAAWH,UAAX,CAAsBW,IAAtB,KAA8B,OAArK,IAAgL,KAAKR,KAAL,CAAWH,UAAX,CAAsBW,IAAtB,KAA8B,MAAlN,EAA0N;AACxN,gBAAIC,QAAQ,GAAG,KAAKT,KAAL,CAAWH,UAAX,CAAsBa,GAArC;AAEET,YAAAA,KAAK,CAACQ,QAAD,CAAL,CACGP,IADH,CACSS,aAAD,IAAiB;AACrB,qBAAOA,aAAa,CAACP,IAAd,EAAP;AACD,aAHH,EAKGF,IALH,CAKSU,SAAD,IAAa;AACjB,mBAAKtB,QAAL,CAAc;AACZM,gBAAAA,WAAW,EAACU,IAAI,CAACC,KAAL,CAAWK,SAAX,CADA;AAEZjB,gBAAAA,QAAQ,EAAC;AAFG,eAAd;AAID,aAVH,EAWGkB,KAXH,CAWUC,UAAD,IAAc;AACnBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AACD,aAbH;AAcH;AACF;AACF,OAhCD,EAiCCD,KAjCD,CAiCQI,KAAD,IAAS;AACd,aAAK3B,QAAL,CAAc;AACZO,UAAAA,UAAU,EAAC,IADC;AAEZF,UAAAA,QAAQ,EAAC;AAFG,SAAd;AAGD,OArCD;AAsCD,KAlFkB;;AAAA,SAoFnBuB,WApFmB,GAoFN,MAAI;AACf,UAAIC,SAAS,GAAC,EAAd;AACA,UAAIC,GAAG,GAAG,KAAKpB,KAAL,CAAWH,UAArB;AACAkB,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;;AACA,UAAI,KAAKhB,KAAL,CAAWH,UAAX,KAA0B,IAA9B,EAAmC;AAE/B,YAAIuB,GAAG,CAACZ,IAAJ,KAAa,SAAjB,EAA2B;AACzBW,UAAAA,SAAS,CAACE,IAAV,eAAe,oBAAC,gBAAD;AAAkB,YAAA,UAAU,EAAED,GAA9B;AAAmC,YAAA,GAAG,EAAEA,GAAG,CAACE,KAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAf;AAED,SAHD,MAGM,IAAIF,GAAG,CAACZ,IAAJ,KAAa,YAAb,IAA6BY,GAAG,CAACZ,IAAJ,KAAa,aAA9C,EAA4D;AAEhE,cAAI,KAAKR,KAAL,CAAWJ,WAAX,KAA2B,IAA/B,EAAoC;AAElC,gBAAI2B,SAAS,GAAG,KAAKvB,KAAL,CAAWJ,WAA3B;AACA,gBAAI4B,KAAK,GAAG,EAAZ,CAHkC,CAKlC;;AAEE,gBAAIC,KAAK,GAAG,EAAZ;AACA,gBAAIC,KAAK,GAAG,EAAZ;AACA,gBAAIC,KAAK,GAAG,EAAZ;AACA,gBAAIC,KAAK,GAAG,EAAZ;AACA,gBAAIC,MAAM,GAAG,EAAb;AACA,gBAAIC,MAAM,GAAG,EAAb;AACA,gBAAIC,MAAM,GAAG,EAAb;AACA,gBAAIC,MAAM,GAAG,EAAb;AACA,gBAAIC,MAAM,GAAG,EAAb,CAfgC,CAiBlC;;AACA,gBAAIb,GAAG,CAACZ,IAAJ,KAAa,YAAjB,EAA8B;AAE5B,mBAAK,IAAI0B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBC,MAAzC,EAAiDH,CAAC,IAAE,CAApD,EAAuD;AACnD,oBAAII,CAAC,GAAGf,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBK,MAAxB,CAA+BC,EAAvC;AACAf,gBAAAA,KAAK,CAACJ,IAAN,CAAWiB,CAAX;AACAZ,gBAAAA,KAAK,CAACL,IAAN,CAAWE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBO,SAAxB,CAAkCD,EAA7C;AACAb,gBAAAA,KAAK,CAACN,IAAN,CAAWE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBQ,MAAxB,CAA+BF,EAA1C;AACAZ,gBAAAA,KAAK,CAACP,IAAN,CAAWE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBS,QAAxB,CAAiCH,EAA5C;AACAX,gBAAAA,MAAM,CAACR,IAAP,CAAYE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBU,OAAxB,CAAgCJ,EAA5C;AACAV,gBAAAA,MAAM,CAACT,IAAP,CAAYE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBW,OAAxB,CAAgCL,EAA5C;AACAT,gBAAAA,MAAM,CAACV,IAAP,CAAYE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBY,OAAxB,CAAgCN,EAA5C;AACAR,gBAAAA,MAAM,CAACX,IAAP,CAAYE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBa,OAAxB,CAAgCP,EAA5C;AACAP,gBAAAA,MAAM,CAACZ,IAAP,CAAYE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBc,OAAxB,CAAgCR,EAA5C;AACH;;AAEDhB,cAAAA,KAAK,GAAG;AACN,0BAAS,CAAC,IAAD,EAAM,OAAN,EAAc,MAAd,EAAqB,MAArB,EAA4B,KAA5B,EAAkC,KAAlC,EAAwC,KAAxC,EAA8C,KAA9C,EAAoD,KAApD,CADH;AAEN,wBAAOC,KAFD;AAGN,0BAASC,KAHH;AAIN,2BAAUC,KAJJ;AAKN,+BAAcC,KALR;AAMN,2BAAUC,MANJ;AAON,2BAAUC,MAPJ;AAQN,2BAAUC,MARJ;AASN,2BAAUC,MATJ;AAUN,2BAAUC;AAVJ,eAAR;AAaD,aA5BD,CA6BA;AA7BA,iBA8BK,IAAIb,GAAG,CAACZ,IAAJ,KAAa,aAAjB,EAA+B;AAClC,qBAAK,IAAI0B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBC,MAAzC,EAAiDH,CAAC,IAAE,CAApD,EAAuD;AACnD,sBAAII,CAAC,GAAGf,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBK,MAAxB,CAA+BC,EAAvC;AACAf,kBAAAA,KAAK,CAACJ,IAAN,CAAWiB,CAAX;AACAZ,kBAAAA,KAAK,CAACL,IAAN,CAAWE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBe,QAAxB,CAAiCT,EAA5C;AACAb,kBAAAA,KAAK,CAACN,IAAN,CAAWE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBgB,QAAxB,CAAiCV,EAA5C;AACH;;AAEDhB,gBAAAA,KAAK,GAAG;AACN,4BAAS,CAAC,IAAD,EAAM,MAAN,EAAa,MAAb,CADH;AAEN,0BAAOC,KAFD;AAGN,6BAAUC,KAHJ;AAIN,yBAAMC;AAJA,iBAAR;AAMD;;AAEDR,YAAAA,SAAS,CAACE,IAAV,eAAe,oBAAC,qBAAD;AAAuB,cAAA,UAAU,EAAED,GAAnC;AAAwC,cAAA,WAAW,EAAEI,KAArD;AAA4D,cAAA,GAAG,EAAEJ,GAAG,CAACE,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAf;AACD,WAnE+D,CAqElE;;AACC,SAtEK,MAsEA,IAAIF,GAAG,CAACZ,IAAJ,KAAa,cAAjB,EAAgC;AACrC,cAAIY,GAAG,CAACE,KAAJ,KAAc,QAAlB,EAA4BH,SAAS,CAACE,IAAV,eAAe,oBAAC,uBAAD;AAAyB,YAAA,UAAU,EAAED,GAAG,CAACE,KAAzC;AAAgD,YAAA,GAAG,EAAEF,GAAG,CAACE,KAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAf,EADS,CAEpC;;AACA;;;;;;;AAOF;AACC,SAXK,MAWA,IAAIF,GAAG,CAACZ,IAAJ,KAAa,WAAjB,EAA6B;AACjC;AACA,cAAIY,GAAG,CAACE,KAAJ,KAAc,SAAlB,EAA6BH,SAAS,CAACE,IAAV,eAAe,oBAAC,sBAAD;AAAwB,YAAA,UAAU,EAAED,GAAG,CAACE,KAAxC;AAA+C,YAAA,GAAG,EAAEF,GAAG,CAACE,KAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAf,EAA7B,KACK,IAAIF,GAAG,CAACE,KAAJ,KAAc,WAAlB,EAA+BH,SAAS,CAACE,IAAV,eAAe,oBAAC,wBAAD;AAA0B,YAAA,UAAU,EAAED,GAAG,CAACE,KAA1C;AAAiD,YAAA,GAAG,EAAEF,GAAG,CAACE,KAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAf,EAA/B,KACA,IAAIF,GAAG,CAACE,KAAJ,KAAc,eAAlB,EAAmCH,SAAS,CAACE,IAAV,eAAe,oBAAC,4BAAD;AAA8B,YAAA,UAAU,EAAED,GAAG,CAACE,KAA9C;AAAqD,YAAA,GAAG,EAAEF,GAAG,CAACE,KAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAf,EAAnC,KACA,IAAIF,GAAG,CAACE,KAAJ,KAAc,WAAlB,EAA+BH,SAAS,CAACE,IAAV,eAAe,oBAAC,wBAAD;AAA0B,YAAA,UAAU,EAAED,GAAG,CAACE,KAA1C;AAAiD,YAAA,GAAG,EAAEF,GAAG,CAACE,KAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAf,EAA/B,KACA,IAAIF,GAAG,CAACE,KAAJ,KAAc,YAAlB,EAAgCH,SAAS,CAACE,IAAV,eAAe,oBAAC,yBAAD;AAA2B,YAAA,UAAU,EAAED,GAAG,CAACE,KAA3C;AAAkD,YAAA,GAAG,EAAEF,GAAG,CAACE,KAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAf,EAAhC,CACL;AADK,eAEA,IAAIF,GAAG,CAACE,KAAJ,KAAc,WAAlB,EAA+BH,SAAS,CAACE,IAAV,eAAe,oBAAC,yBAAD;AAA2B,cAAA,UAAU,EAAED,GAAG,CAACE,KAA3C;AAAkD,cAAA,GAAG,EAAEF,GAAG,CAACE,KAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAf,EARH,CASnC;AACC,SAVK,MAUA,IAAIF,GAAG,CAACZ,IAAJ,KAAa,OAAjB,EAAyB;AAC7B,cAAI,KAAKR,KAAL,CAAWJ,WAAX,KAA2B,IAA/B,EAAoC;AAElC,gBAAI2B,SAAS,GAAG,KAAKvB,KAAL,CAAWJ,WAA3B;AACA,gBAAI4B,KAAK,GAAG,EAAZ,CAHkC,CAKlC;;AAEE,gBAAI2B,SAAS,GAAG,EAAhB;AACA,gBAAIC,WAAW,GAAG,EAAlB;AACA,gBAAIC,YAAY,GAAG,EAAnB;AACA,gBAAIC,YAAY,GAAG,EAAnB;AACA,gBAAIC,aAAa,GAAG,EAApB;AACA,gBAAIC,WAAW,GAAG,EAAlB;AACA,gBAAIC,QAAQ,GAAG,EAAf;AACA,gBAAIC,YAAY,GAAG,EAAnB;;AAEA,iBAAK,IAAIxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBC,MAAzC,EAAiDH,CAAC,IAAE,CAApD,EAAuD;AACnDiB,cAAAA,SAAS,CAAC9B,IAAV,CAAeE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwByB,MAAxB,CAA+BnB,EAA9C;AACAY,cAAAA,WAAW,CAAC/B,IAAZ,CAAiBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB0B,MAAxB,CAA+BpB,EAAhD;AACAa,cAAAA,YAAY,CAAChC,IAAb,CAAkBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB2B,MAAxB,CAA+BrB,EAAjD;AACAc,cAAAA,YAAY,CAACjC,IAAb,CAAkBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB4B,MAAxB,CAA+BtB,EAAjD;AACAe,cAAAA,aAAa,CAAClC,IAAd,CAAmBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB6B,MAAxB,CAA+BvB,EAAlD;AACAgB,cAAAA,WAAW,CAACnC,IAAZ,CAAiBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB8B,MAAxB,CAA+BxB,EAAhD;AACAiB,cAAAA,QAAQ,CAACpC,IAAT,CAAcE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB+B,MAAxB,CAA+BzB,EAA7C;AAEA,kBAAI0B,UAAU,GAAG3C,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBiC,SAAxB,CAAkC3B,EAAnD;AACA,kBAAI4B,WAAW,GAAG7C,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBmC,QAAxB,CAAiC7B,EAAjC,CAAoC8B,KAApC,CAA0C,GAA1C,CAAlB;AACA,kBAAIC,aAAa,GAAE,EAAnB;AACAH,cAAAA,WAAW,CAACI,OAAZ,CAAoB,UAASC,IAAT,EAAc;AAChCF,gBAAAA,aAAa,CAAClD,IAAd,CAAmB6C,UAAU,CAACQ,MAAX,CAAkBD,IAAlB,CAAnB;AACD,eAFD;AAGAf,cAAAA,YAAY,CAACrC,IAAb,CAAkBkD,aAAlB;AACH;;AACD/C,YAAAA,KAAK,GAAG;AACN,uBAAQ2B,SADF;AAEN,yBAAUC,WAFJ;AAGN,0BAAWC,YAHL;AAIN,0BAAWC,YAJL;AAKN,2BAAYC,aALN;AAMN,yBAAUC,WANJ;AAON,sBAAOC,QAPD;AAQN,0BAAWC;AARL,aAAR;AAWFvC,YAAAA,SAAS,CAACE,IAAV,eAAe,oBAAC,cAAD;AAAgB,cAAA,UAAU,EAAED,GAA5B;AAAiC,cAAA,WAAW,EAAEI,KAA9C;AAAqD,cAAA,GAAG,EAAEJ,GAAG,CAACE,KAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAf;AACD,WA9C4B,CA+CjC;;AACC,SAhDO,MAgDF,IAAIF,GAAG,CAACZ,IAAJ,KAAa,QAAjB,EAA0B;AAC5B,cAAI,KAAKR,KAAL,CAAWJ,WAAX,KAA2B,IAA/B,EAAoC;AAElC;AACA,gBAAI2B,SAAS,GAAG,KAAKvB,KAAL,CAAWJ,WAA3B;AACA,gBAAI4B,KAAK,GAAG,EAAZ,CAJkC,CAMlC;;AAEE,gBAAImD,SAAS,GAAG,EAAhB;AACA,gBAAIxB,SAAS,GAAG,EAAhB;AACA,gBAAIK,WAAW,GAAG,EAAlB;AACA,gBAAIJ,WAAW,GAAG,EAAlB;AACA,gBAAIwB,QAAQ,GAAG,EAAf;AACA,gBAAIrB,aAAa,GAAG,EAApB;AACA,gBAAIE,QAAQ,GAAG,EAAf;AACA,gBAAIC,YAAY,GAAG,EAAnB;;AAEA,iBAAK,IAAIxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBC,MAAzC,EAAiDH,CAAC,IAAE,CAApD,EAAuD;AACnDyC,cAAAA,SAAS,CAACtD,IAAV,CAAeE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB2C,MAAxB,CAA+BrC,EAA9C;AACAW,cAAAA,SAAS,CAAC9B,IAAV,CAAeE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB4C,MAAxB,CAA+BtC,EAA9C;AACAgB,cAAAA,WAAW,CAACnC,IAAZ,CAAiBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB8B,MAAxB,CAA+BxB,EAAhD;AACAY,cAAAA,WAAW,CAAC/B,IAAZ,CAAiBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB6C,QAAxB,CAAiCvC,EAAlD;AACAoC,cAAAA,QAAQ,CAACvD,IAAT,CAAcE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB8C,MAAxB,CAA+BxC,EAA7C;AACAe,cAAAA,aAAa,CAAClC,IAAd,CAAmBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB6B,MAAxB,CAA+BvB,EAAlD;AACAiB,cAAAA,QAAQ,CAACpC,IAAT,CAAcE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB+B,MAAxB,CAA+BzB,EAA7C;AAEA,kBAAI0B,UAAU,GAAG3C,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBiC,SAAxB,CAAkC3B,EAAnD;AACA,kBAAI4B,WAAW,GAAG7C,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBmC,QAAxB,CAAiC7B,EAAjC,CAAoC8B,KAApC,CAA0C,GAA1C,CAAlB;AACA,kBAAIC,aAAa,GAAE,EAAnB;AACAH,cAAAA,WAAW,CAACI,OAAZ,CAAoB,UAASC,IAAT,EAAc;AAChCF,gBAAAA,aAAa,CAAClD,IAAd,CAAmB6C,UAAU,CAACQ,MAAX,CAAkBD,IAAlB,CAAnB;AACD,eAFD;AAGAf,cAAAA,YAAY,CAACrC,IAAb,CAAkBkD,aAAlB;AACH;;AACD/C,YAAAA,KAAK,GAAG;AACN,uBAAQmD,SADF;AAEN,uBAAQxB,SAFF;AAGN,yBAAUK,WAHJ;AAIN,yBAAUJ,WAJJ;AAKN,sBAAOwB,QALD;AAMN,2BAAYrB,aANN;AAON,sBAAOE,QAPD;AAQN,0BAAWC;AARL,aAAR;AAWFvC,YAAAA,SAAS,CAACE,IAAV,eAAe,oBAAC,eAAD;AAAiB,cAAA,UAAU,EAAED,GAA7B;AAAkC,cAAA,WAAW,EAAEI,KAA/C;AAAsD,cAAA,GAAG,EAAEJ,GAAG,CAACE,KAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAf;AACD,WA/C2B,CAgDhC;;AACC,SAjDK,MAiDA,IAAIF,GAAG,CAACZ,IAAJ,KAAa,MAAjB,EAAwB;AAC1B,cAAI,KAAKR,KAAL,CAAWJ,WAAX,KAA2B,IAA/B,EAAoC;AAClC;AACA,gBAAI2B,SAAS,GAAG,KAAKvB,KAAL,CAAWJ,WAA3B;AACA,gBAAI4B,KAAK,GAAG,EAAZ,CAHkC,CAKlC;;AAEE,gBAAI2B,SAAS,GAAG,EAAhB;AACA,gBAAIC,WAAW,GAAG,EAAlB;AACA,gBAAIC,YAAY,GAAG,EAAnB;AACA,gBAAIC,YAAY,GAAG,EAAnB;AACA,gBAAIC,aAAa,GAAG,EAApB;AACA,gBAAIC,WAAW,GAAG,EAAlB;AACA,gBAAIC,QAAQ,GAAG,EAAf;AAEA,gBAAIwB,SAAS,GAAG,EAAhB;AACA,gBAAIC,SAAS,GAAG,EAAhB;AACA,gBAAIC,UAAU,GAAG,EAAjB;;AAEA,iBAAK,IAAIjD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBC,MAAzC,EAAiDH,CAAC,IAAE,CAApD,EAAuD;AACnDiB,cAAAA,SAAS,CAAC9B,IAAV,CAAeE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwByB,MAAxB,CAA+BnB,EAA9C;AACAY,cAAAA,WAAW,CAAC/B,IAAZ,CAAiBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB0B,MAAxB,CAA+BpB,EAAhD;AACAa,cAAAA,YAAY,CAAChC,IAAb,CAAkBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBkD,MAAxB,CAA+B5C,EAAjD;AACAc,cAAAA,YAAY,CAACjC,IAAb,CAAkBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB4B,MAAxB,CAA+BtB,EAAjD;AACAiB,cAAAA,QAAQ,CAACpC,IAAT,CAAcE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB+B,MAAxB,CAA+BzB,EAA7C;AACAgB,cAAAA,WAAW,CAACnC,IAAZ,CAAiBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBmD,QAAxB,CAAiC7C,EAAlD;AAEAyC,cAAAA,SAAS,CAAC5D,IAAV,CAAeE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwB8B,MAAxB,CAA+BxB,EAA9C;AACA0C,cAAAA,SAAS,CAAC7D,IAAV,CAAeE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBoD,MAAxB,CAA+B9C,EAA9C;AACA2C,cAAAA,UAAU,CAAC9D,IAAX,CAAgBE,SAAS,CAACY,IAAV,CAAeC,KAAf,CAAqBF,CAArB,EAAwBqD,SAAxB,CAAkC/C,EAAlD;AACH;;AACDhB,YAAAA,KAAK,GAAG;AACN,uBAAQ2B,SADF;AAEN,yBAAUC,WAFJ;AAGN,0BAAWC,YAHL;AAIN,0BAAWC,YAJL;AAKN,yBAAUE,WALJ;AAMN,sBAAOC,QAND;AAQN,4BAAa0B,UARP;AASN,2BAAYF,SATN;AAUN,2BAAYC;AAVN,aAAR;AAaF/D,YAAAA,SAAS,CAACE,IAAV,eAAe,oBAAC,aAAD;AAAe,cAAA,UAAU,EAAED,GAA3B;AAAgC,cAAA,WAAW,EAAEI,KAA7C;AAAoD,cAAA,GAAG,EAAEJ,GAAG,CAACE,KAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAf;AACD;AAEF,SAjP8B,CAmPnC;;AACC,OApPD,MAoPM,IAAI,KAAKtB,KAAL,CAAWL,QAAf,EAAwB;AAE5BwB,QAAAA,SAAS,CAACE,IAAV,eAAe,oBAAC,aAAD;AAAe,UAAA,UAAU,EAAE,KAAKrB,KAAL,CAAWT,UAAtC;AAAkD,UAAA,GAAG,EAAC,WAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAf;AACD;;AAED,aAAO4B,SAAP;AACD,KAlVkB;;AAEjB,SAAKnB,KAAL,GAAa;AACTwF,MAAAA,OAAO,EAAC,IADC;AAETjG,MAAAA,UAAU,EAAE,IAFH;AAGTG,MAAAA,SAAS,EAAC,IAHD;AAITG,MAAAA,UAAU,EAAE,IAJH;AAKTD,MAAAA,WAAW,EAAC,IALH;AAMTD,MAAAA,QAAQ,EAAC;AANA,KAAb;AASA,SAAKP,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBqG,IAAtB,CAA2B,IAA3B,CAAxB;AACD,GAd0C,CAgB3C;;;AAkBAC,EAAAA,iBAAiB,GAAG;AAClB,SAAK5F,WAAL;AACD;;AACD6F,EAAAA,iBAAiB,GAAG;AAClB,SAAKrG,QAAL,CAAc;AAACK,MAAAA,QAAQ,EAAE;AAAX,KAAd;AACD;;AA+SDiG,EAAAA,MAAM,GAAG;AAEP,wBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAE,KAAK5F,KAAL,CAAWwF,OAAnC;AAA4C,MAAA,gBAAgB,EAAE,KAAKpG,gBAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK8B,WAAL,EADH,CADF,CAFF,CADF;AAWD;;AAnW0C;;AAuW7C,eAAelC,cAAf","sourcesContent":["import React from 'react';\r\nimport { Segment} from 'semantic-ui-react';\r\nimport styled from 'styled-components';\r\n\r\n//import CanvasComponent from './CanvasComponent';\r\n\r\nimport MenuComponent from '../menuComponent/menuComponent';\r\n\r\nimport LRPanelComponent from './lrpanelComponent';\r\nimport SSTablePanelComponent from './sstablepanelComponent';\r\nimport NoneComponent from './noneComponent'; \r\nimport LRTabComponent from './lrtabComponent';\r\nimport LRTab2Component from './lrtab2Component';\r\nimport USDIComponent from './usdiComponent';\r\n\r\n\r\n\r\nimport CanvasRhinojsComponent from './Canvas/Rhinojs';\r\nimport CanvasParticlesComponent from './Canvas/Particles';\r\nimport CanvasPrototypingjsComponent from './Canvas/Prototypingjs';\r\nimport CanvasWeavingjsComponent from './Canvas/Weavingjs';\r\nimport CanvasRobotarmjsComponent from './Canvas/Robotarmjs';\r\n\r\nimport CanvasOpencvjsComponent from './Canvas/Opencvjs';\r\n\r\nimport CanvasCurationjsComponent from './Canvas/Curationjs';\r\n// Media Project Frame\r\n//import OpenCVjsComponent from './Canvas/OpenCVjs';\r\n\r\n\t// stlyed \r\n\t//======================panel======================\r\n\tconst PanelContain = styled.div`\r\n    position: fixed;\r\n    z-index: 100;\r\n    width:80%;\r\n    height:60vh;\r\n    max-height:65vh;\r\n    margin-left: 10%;\r\n    top: 1.5em;\r\n    .Panel{\r\n      padding-top:1.5em;\r\n      opacity: 0.8;\r\n    }\r\n\t`;\r\n\r\nclass PanelComponent extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        menuMap:null,\r\n        activeItem: null,\r\n        panelpath:null,\r\n        activedata: null,\r\n        sstabledata:null,\r\n        nonedata:false,\r\n    };\r\n\r\n    this.handleItemUpdate = this.handleItemUpdate.bind(this);\r\n  }\r\n\r\n  // create a function in parent and call it with \"this.props.fucniton\" in child component can get the tag DOM\r\n  handleItemUpdate = (e) =>{\r\n    // 要把會影響的state都列入，變動時renderer才會重整，否則沒列入的state就算變動了，renderer也不會重整\r\n    this.setState({ \r\n      activeItem: e.target.id,\r\n      panelpath: './assets/json/data/'+e.target.id+'.json',\r\n      nonedata: false,\r\n      sstabledata:null,\r\n      activedata: null\r\n      // 確認render即時改變要在setState後面加上props的callback\r\n    },()=>{\r\n      this.updatepanel();\r\n    });\r\n    \r\n    \r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.updatepanel(); \r\n  }\r\n  componentDidCatch() {\r\n    this.setState({nonedata: true});\r\n  }\r\n\r\n  updatepanel = ()=>{\r\n\r\n    let menuval = (this.state.panelpath===null) ? './assets/json/data/about.json' : this.state.panelpath;\r\n    \r\n\r\n    fetch(menuval)\r\n    .then((response)=>{\r\n      return response.text();\r\n    })\r\n    .then((data)=>{\r\n      this.setState({\r\n        activedata:JSON.parse(data)[0],\r\n        nonedata:false\r\n      });\r\n    }).then(()=>{\r\n      // =======================SSTABLE=======================\r\n      if (this.state.activedata.type !== null){\r\n\r\n        if (this.state.activedata.type ===\"sstableall\" || this.state.activedata.type ===\"sstableteam\" || this.state.activedata.type ===\"lrtab2\" || this.state.activedata.type ===\"lrtab\" || this.state.activedata.type ===\"usdi\") {\r\n          let panelurl = this.state.activedata.url;\r\n          \r\n            fetch(panelurl)\r\n              .then((responsetable)=>{\r\n                return responsetable.text();\r\n              })\r\n              \r\n              .then((datatable)=>{\r\n                this.setState({\r\n                  sstabledata:JSON.parse(datatable),\r\n                  nonedata:false\r\n                });\r\n              })\r\n              .catch((errortable)=>{\r\n                console.log(errortable);\r\n              });\r\n        }\r\n      }\r\n    })\r\n    .catch((error)=>{\r\n      this.setState({\r\n        activedata:null,\r\n        nonedata:true});\r\n    });\r\n  }\r\n\r\n  panelrender =()=>{\r\n    let panelitem=[];\r\n    let val = this.state.activedata;\r\n    console.log('a');\r\n    if (this.state.activedata !== null){\r\n        \r\n        if (val.type === \"lrpanel\"){\r\n          panelitem.push(<LRPanelComponent activedata={val} key={val.title}></LRPanelComponent>);\r\n\r\n        }else if (val.type === \"sstableall\" || val.type === \"sstableteam\"){\r\n\r\n          if (this.state.sstabledata !== null){\r\n\r\n            let tablejson = this.state.sstabledata;\r\n            let table = [];\r\n\r\n            // ==============================分項\r\n            \r\n              let itemw = [];\r\n              let items = [];\r\n              let itemt = [];\r\n              let itemd = [];\r\n              let itemm1 = [];\r\n              let itemm2 = [];\r\n              let itemm3 = [];\r\n              let itemm4 = [];\r\n              let itemm5 = [];\r\n\r\n            // ==============================全行事曆\r\n            if (val.type === \"sstableall\"){\r\n\r\n              for (let i = 0; i < tablejson.feed.entry.length; i+=1) {\r\n                  let c = tablejson.feed.entry[i].gsx$周次.$t;\r\n                  itemw.push(c);\r\n                  items.push(tablejson.feed.entry[i].gsx$學校行事曆.$t);\r\n                  itemt.push(tablejson.feed.entry[i].gsx$吉甫.$t);\r\n                  itemd.push(tablejson.feed.entry[i].gsx$工作文件.$t);\r\n                  itemm1.push(tablejson.feed.entry[i].gsx$王霄唅.$t);\r\n                  itemm2.push(tablejson.feed.entry[i].gsx$陳又如.$t);\r\n                  itemm3.push(tablejson.feed.entry[i].gsx$陳嘉隆.$t);\r\n                  itemm4.push(tablejson.feed.entry[i].gsx$蔡承恩.$t);\r\n                  itemm5.push(tablejson.feed.entry[i].gsx$譚君恆.$t);                \r\n              }\r\n\r\n              table = {\r\n                'header':['周次','學校行事曆','工作規劃','工作文件','王霄唅','陳又如','陳嘉隆','蔡承恩','譚君恆'],\r\n                'week':itemw,\r\n                'school':items,\r\n                'teacher':itemt,\r\n                'documentpdf':itemd,\r\n                'member1':itemm1,\r\n                'member2':itemm2,\r\n                'member3':itemm3,\r\n                'member4':itemm4,\r\n                'member5':itemm5\r\n              };\r\n            \r\n            }\r\n            // ==============================各組周記\r\n            else if (val.type === \"sstableteam\"){\r\n              for (let i = 0; i < tablejson.feed.entry.length; i+=1) {\r\n                  let c = tablejson.feed.entry[i].gsx$周次.$t;\r\n                  itemw.push(c);\r\n                  items.push(tablejson.feed.entry[i].gsx$內容說明.$t);\r\n                  itemt.push(tablejson.feed.entry[i].gsx$檔案位址.$t);           \r\n              }\r\n\r\n              table = {\r\n                'header':['周次','內容說明','檔案位址'],\r\n                'week':itemw,\r\n                'content':items,\r\n                'url':itemt\r\n              };\r\n            }\r\n            \r\n            panelitem.push(<SSTablePanelComponent activedata={val} contentdata={table} key={val.title}></SSTablePanelComponent>);\r\n          }\r\n\r\n        // ===================canvasComponent========================    \r\n        }else if (val.type === \"mediaproject\"){\r\n        \tif (val.title === \"opencv\") panelitem.push(<CanvasOpencvjsComponent activeItem={val.title} key={val.title}/>);\r\n          //console.log(val.title);\r\n          /*\r\n          if (val.title === \"rhinojs\") panelitem.push(<CanvasRhinojsComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"particles\") panelitem.push(<CanvasParticlesComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"prototypingjs\") panelitem.push(<CanvasPrototypingjsComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"weavingjs\") panelitem.push(<CanvasWeavingjsComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"robotarmjs\") panelitem.push(<CanvasRobotarmjsComponent activeItem={val.title} key={val.title}/>);\r\n          */\r\n        // ===================lrtabComponent======================== \r\n        }else if (val.type === \"canvasapp\"){\r\n          //console.log(val.title);\r\n          if (val.title === \"rhinojs\") panelitem.push(<CanvasRhinojsComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"particles\") panelitem.push(<CanvasParticlesComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"prototypingjs\") panelitem.push(<CanvasPrototypingjsComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"weavingjs\") panelitem.push(<CanvasWeavingjsComponent activeItem={val.title} key={val.title}/>);\r\n          else if (val.title === \"robotarmjs\") panelitem.push(<CanvasRobotarmjsComponent activeItem={val.title} key={val.title}/>);\r\n          // 策展\r\n          else if (val.title === \"archi2019\") panelitem.push(<CanvasCurationjsComponent activeItem={val.title} key={val.title}/>);\r\n        // ===================lrtabComponent========================    \r\n        }else if (val.type === \"lrtab\"){\r\n          if (this.state.sstabledata !== null){\r\n\r\n            let tablejson = this.state.sstabledata;\r\n            let table = [];\r\n\r\n            // ==============================分項\r\n            \r\n              let itemtopic = [];\r\n              let itemlecture = [];\r\n              let itemhardware = [];\r\n              let itemsoftware = [];\r\n              let itemmaterials = [];\r\n              let itemmembers = [];\r\n              let iteminfo = [];\r\n              let itempic1path = [];\r\n\r\n              for (let i = 0; i < tablejson.feed.entry.length; i+=1) {\r\n                  itemtopic.push(tablejson.feed.entry[i].gsx$課題.$t); \r\n                  itemlecture.push(tablejson.feed.entry[i].gsx$講師.$t);\r\n                  itemhardware.push(tablejson.feed.entry[i].gsx$硬體.$t);\r\n                  itemsoftware.push(tablejson.feed.entry[i].gsx$軟體.$t);\r\n                  itemmaterials.push(tablejson.feed.entry[i].gsx$材料.$t);\r\n                  itemmembers.push(tablejson.feed.entry[i].gsx$學員.$t);\r\n                  iteminfo.push(tablejson.feed.entry[i].gsx$介紹.$t);\r\n\r\n                  let itempicdir = tablejson.feed.entry[i].gsx$圖片資料夾.$t;\r\n                  let itempic1nms = tablejson.feed.entry[i].gsx$圖片名一.$t.split(\"|\");\r\n                  let itempic1group =[];\r\n                  itempic1nms.forEach(function(item){\r\n                    itempic1group.push(itempicdir.concat(item));\r\n                  });\r\n                  itempic1path.push(itempic1group);\r\n              }\r\n              table = {\r\n                'topic':itemtopic,\r\n                'lecture':itemlecture,\r\n                'hardware':itemhardware,\r\n                'software':itemsoftware,\r\n                'materials':itemmaterials,\r\n                'members':itemmembers,\r\n                'info':iteminfo,\r\n                'pic1path':itempic1path\r\n              };\r\n            \r\n            panelitem.push(<LRTabComponent activedata={val} contentdata={table} key={val.title}></LRTabComponent>);\r\n          }\r\n      // ===================lrtab2========================     \r\n      }else if (val.type === \"lrtab2\"){\r\n          if (this.state.sstabledata !== null){\r\n\r\n            //console.log(this.state.sstabledata);\r\n            let tablejson = this.state.sstabledata;\r\n            let table = [];\r\n\r\n            // ==============================分項\r\n            \r\n              let itemtitle = [];\r\n              let itemtopic = [];\r\n              let itemmembers = [];\r\n              let itemlecture = [];\r\n              let itemtool = [];\r\n              let itemmaterials = [];\r\n              let iteminfo = [];\r\n              let itempic1path = [];\r\n\r\n              for (let i = 0; i < tablejson.feed.entry.length; i+=1) {\r\n                  itemtitle.push(tablejson.feed.entry[i].gsx$題目.$t);\r\n                  itemtopic.push(tablejson.feed.entry[i].gsx$標題.$t);\r\n                  itemmembers.push(tablejson.feed.entry[i].gsx$學員.$t); \r\n                  itemlecture.push(tablejson.feed.entry[i].gsx$指導老師.$t);\r\n                  itemtool.push(tablejson.feed.entry[i].gsx$工具.$t);\r\n                  itemmaterials.push(tablejson.feed.entry[i].gsx$材料.$t);\r\n                  iteminfo.push(tablejson.feed.entry[i].gsx$介紹.$t);\r\n\r\n                  let itempicdir = tablejson.feed.entry[i].gsx$圖片資料夾.$t;\r\n                  let itempic1nms = tablejson.feed.entry[i].gsx$圖片名一.$t.split(\"|\");\r\n                  let itempic1group =[];\r\n                  itempic1nms.forEach(function(item){\r\n                    itempic1group.push(itempicdir.concat(item));\r\n                  });\r\n                  itempic1path.push(itempic1group);\r\n              }\r\n              table = {\r\n                'title':itemtitle,\r\n                'topic':itemtopic,\r\n                'members':itemmembers,\r\n                'lecture':itemlecture,\r\n                'tool':itemtool,\r\n                'materials':itemmaterials,\r\n                'info':iteminfo,\r\n                'pic1path':itempic1path\r\n              };\r\n            \r\n            panelitem.push(<LRTab2Component activedata={val} contentdata={table} key={val.title}></LRTab2Component>);\r\n          }\r\n      // ===================usdiComponent========================     \r\n      }else if (val.type === \"usdi\"){\r\n          if (this.state.sstabledata !== null){\r\n            //console.log(this.state.panelpath);\r\n            let tablejson = this.state.sstabledata;\r\n            let table = [];\r\n\r\n            // ==============================分項\r\n            \r\n              let itemtopic = [];\r\n              let itemlecture = [];\r\n              let itemhardware = [];\r\n              let itemsoftware = [];\r\n              let itemmaterials = [];\r\n              let itemmembers = [];\r\n              let iteminfo = [];\r\n              \r\n              let membernum = [];\r\n              let memberurl = [];\r\n              let memberpath = [];\r\n\r\n              for (let i = 0; i < tablejson.feed.entry.length; i+=1) {\r\n                  itemtopic.push(tablejson.feed.entry[i].gsx$課題.$t); \r\n                  itemlecture.push(tablejson.feed.entry[i].gsx$講師.$t);\r\n                  itemhardware.push(tablejson.feed.entry[i].gsx$平台.$t);\r\n                  itemsoftware.push(tablejson.feed.entry[i].gsx$軟體.$t);\r\n                  iteminfo.push(tablejson.feed.entry[i].gsx$介紹.$t);\r\n                  itemmembers.push(tablejson.feed.entry[i].gsx$學員組成.$t);\r\n\r\n                  membernum.push(tablejson.feed.entry[i].gsx$學員.$t);\r\n                  memberurl.push(tablejson.feed.entry[i].gsx$網址.$t);\r\n                  memberpath.push(tablejson.feed.entry[i].gsx$學員圖片1.$t);\r\n              }\r\n              table = {\r\n                'topic':itemtopic,\r\n                'lecture':itemlecture,\r\n                'hardware':itemhardware,\r\n                'software':itemsoftware,\r\n                'members':itemmembers,\r\n                'info':iteminfo,\r\n\r\n                'memberpath':memberpath,\r\n                'membernum':membernum,\r\n                'memberurl':memberurl\r\n              };\r\n            \r\n            panelitem.push(<USDIComponent activedata={val} contentdata={table} key={val.title}></USDIComponent>);\r\n          }\r\n          \r\n        }\r\n\r\n    // ===================noneCompontent========================\r\n    }else if (this.state.nonedata){\r\n\r\n      panelitem.push(<NoneComponent activeItem={this.state.activeItem} key='nonepanel'></NoneComponent>);\r\n    }\r\n\r\n    return panelitem;\r\n  }\r\n\r\n  render() {\r\n        \r\n    return (\r\n      <PanelContain>\r\n        <MenuComponent menuMap={this.state.menuMap} handleItemUpdate={this.handleItemUpdate} />\r\n        <div className=\"Panel\" >\r\n          <Segment>\r\n            {this.panelrender()}\r\n          </Segment>\r\n        </div>\r\n\r\n      </PanelContain>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default PanelComponent;"]},"metadata":{},"sourceType":"module"}