{"ast":null,"code":"/**\n * @author abelnation / http://github.com/abelnation\n * @author Mugen87 / http://github.com/Mugen87\n * @author WestLangley / http://github.com/WestLangley\n *\n *  This helper must be added as a child of the light\n */\nimport { BackSide, BufferGeometry, Float32BufferAttribute, Line, LineBasicMaterial, Mesh, MeshBasicMaterial } from '../../../build/three.module.js';\n\nfunction RectAreaLightHelper(light, color) {\n  this.type = 'RectAreaLightHelper';\n  this.light = light;\n  this.color = color; // optional hardwired color for the helper\n\n  var positions = [1, 1, 0, -1, 1, 0, -1, -1, 0, 1, -1, 0, 1, 1, 0];\n  var geometry = new BufferGeometry();\n  geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n  geometry.computeBoundingSphere();\n  var material = new LineBasicMaterial({\n    fog: false\n  });\n  Line.call(this, geometry, material); //\n\n  var positions2 = [1, 1, 0, -1, 1, 0, -1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0];\n  var geometry2 = new BufferGeometry();\n  geometry2.setAttribute('position', new Float32BufferAttribute(positions2, 3));\n  geometry2.computeBoundingSphere();\n  this.add(new Mesh(geometry2, new MeshBasicMaterial({\n    side: BackSide,\n    fog: false\n  })));\n  this.update();\n}\n\nRectAreaLightHelper.prototype = Object.create(Line.prototype);\nRectAreaLightHelper.prototype.constructor = RectAreaLightHelper;\n\nRectAreaLightHelper.prototype.update = function () {\n  this.scale.set(0.5 * this.light.width, 0.5 * this.light.height, 1);\n\n  if (this.color !== undefined) {\n    this.material.color.set(this.color);\n    this.children[0].material.color.set(this.color);\n  } else {\n    this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity); // prevent hue shift\n\n    var c = this.material.color;\n    var max = Math.max(c.r, c.g, c.b);\n    if (max > 1) c.multiplyScalar(1 / max);\n    this.children[0].material.color.copy(this.material.color);\n  }\n};\n\nRectAreaLightHelper.prototype.dispose = function () {\n  this.geometry.dispose();\n  this.material.dispose();\n  this.children[0].geometry.dispose();\n  this.children[0].material.dispose();\n};\n\nexport { RectAreaLightHelper };","map":{"version":3,"sources":["H:/chrlab/src/component/panelComponent/Canvas/threejs/examples/jsm/helpers/RectAreaLightHelper.js"],"names":["BackSide","BufferGeometry","Float32BufferAttribute","Line","LineBasicMaterial","Mesh","MeshBasicMaterial","RectAreaLightHelper","light","color","type","positions","geometry","setAttribute","computeBoundingSphere","material","fog","call","positions2","geometry2","add","side","update","prototype","Object","create","constructor","scale","set","width","height","undefined","children","copy","multiplyScalar","intensity","c","max","Math","r","g","b","dispose"],"mappings":"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","sourcesContent":["/**\n * @author abelnation / http://github.com/abelnation\n * @author Mugen87 / http://github.com/Mugen87\n * @author WestLangley / http://github.com/WestLangley\n *\n *  This helper must be added as a child of the light\n */\n\nimport {\n\tBackSide,\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tLine,\n\tLineBasicMaterial,\n\tMesh,\n\tMeshBasicMaterial\n} from '../../../build/three.module.js';\n\nfunction RectAreaLightHelper( light, color ) {\n\n\tthis.type = 'RectAreaLightHelper';\n\n\tthis.light = light;\n\n\tthis.color = color; // optional hardwired color for the helper\n\n\tvar positions = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, - 1, 0, 1, 1, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tLine.call( this, geometry, material );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, 1, 0, - 1, - 1, 0, 1, - 1, 0 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { side: BackSide, fog: false } ) ) );\n\n\tthis.update();\n\n}\n\nRectAreaLightHelper.prototype = Object.create( Line.prototype );\nRectAreaLightHelper.prototype.constructor = RectAreaLightHelper;\n\nRectAreaLightHelper.prototype.update = function () {\n\n\tthis.scale.set( 0.5 * this.light.width, 0.5 * this.light.height, 1 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\t\tthis.children[ 0 ].material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\t\t// prevent hue shift\n\t\tvar c = this.material.color;\n\t\tvar max = Math.max( c.r, c.g, c.b );\n\t\tif ( max > 1 ) c.multiplyScalar( 1 / max );\n\n\t\tthis.children[ 0 ].material.color.copy( this.material.color );\n\n\t}\n\n};\n\nRectAreaLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nexport { RectAreaLightHelper };\n"]},"metadata":{},"sourceType":"module"}