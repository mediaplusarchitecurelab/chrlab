{"ast":null,"code":"/**\n * @author mrdoob / http://mrdoob.com/\n */\nfunction painterSortStable(a, b) {\n  if (a.groupOrder !== b.groupOrder) {\n    return a.groupOrder - b.groupOrder;\n  } else if (a.renderOrder !== b.renderOrder) {\n    return a.renderOrder - b.renderOrder;\n  } else if (a.program !== b.program) {\n    return a.program.id - b.program.id;\n  } else if (a.material.id !== b.material.id) {\n    return a.material.id - b.material.id;\n  } else if (a.z !== b.z) {\n    return a.z - b.z;\n  } else {\n    return a.id - b.id;\n  }\n}\n\nfunction reversePainterSortStable(a, b) {\n  if (a.groupOrder !== b.groupOrder) {\n    return a.groupOrder - b.groupOrder;\n  } else if (a.renderOrder !== b.renderOrder) {\n    return a.renderOrder - b.renderOrder;\n  } else if (a.z !== b.z) {\n    return b.z - a.z;\n  } else {\n    return a.id - b.id;\n  }\n}\n\nfunction WebGLRenderList() {\n  var renderItems = [];\n  var renderItemsIndex = 0;\n  var opaque = [];\n  var transparent = [];\n  var defaultProgram = {\n    id: -1\n  };\n\n  function init() {\n    renderItemsIndex = 0;\n    opaque.length = 0;\n    transparent.length = 0;\n  }\n\n  function getNextRenderItem(object, geometry, material, groupOrder, z, group) {\n    var renderItem = renderItems[renderItemsIndex];\n\n    if (renderItem === undefined) {\n      renderItem = {\n        id: object.id,\n        object: object,\n        geometry: geometry,\n        material: material,\n        program: material.program || defaultProgram,\n        groupOrder: groupOrder,\n        renderOrder: object.renderOrder,\n        z: z,\n        group: group\n      };\n      renderItems[renderItemsIndex] = renderItem;\n    } else {\n      renderItem.id = object.id;\n      renderItem.object = object;\n      renderItem.geometry = geometry;\n      renderItem.material = material;\n      renderItem.program = material.program || defaultProgram;\n      renderItem.groupOrder = groupOrder;\n      renderItem.renderOrder = object.renderOrder;\n      renderItem.z = z;\n      renderItem.group = group;\n    }\n\n    renderItemsIndex++;\n    return renderItem;\n  }\n\n  function push(object, geometry, material, groupOrder, z, group) {\n    var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n    (material.transparent === true ? transparent : opaque).push(renderItem);\n  }\n\n  function unshift(object, geometry, material, groupOrder, z, group) {\n    var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n    (material.transparent === true ? transparent : opaque).unshift(renderItem);\n  }\n\n  function sort(customOpaqueSort, customTransparentSort) {\n    if (opaque.length > 1) opaque.sort(customOpaqueSort || painterSortStable);\n    if (transparent.length > 1) transparent.sort(customTransparentSort || reversePainterSortStable);\n  }\n\n  function finish() {\n    // Clear references from inactive renderItems in the list\n    for (var i = renderItemsIndex, il = renderItems.length; i < il; i++) {\n      var renderItem = renderItems[i];\n      if (renderItem.id === null) break;\n      renderItem.id = null;\n      renderItem.object = null;\n      renderItem.geometry = null;\n      renderItem.material = null;\n      renderItem.program = null;\n      renderItem.group = null;\n    }\n  }\n\n  return {\n    opaque: opaque,\n    transparent: transparent,\n    init: init,\n    push: push,\n    unshift: unshift,\n    finish: finish,\n    sort: sort\n  };\n}\n\nfunction WebGLRenderLists() {\n  var lists = new WeakMap();\n\n  function onSceneDispose(event) {\n    var scene = event.target;\n    scene.removeEventListener('dispose', onSceneDispose);\n    lists.delete(scene);\n  }\n\n  function get(scene, camera) {\n    var cameras = lists.get(scene);\n    var list;\n\n    if (cameras === undefined) {\n      list = new WebGLRenderList();\n      lists.set(scene, new WeakMap());\n      lists.get(scene).set(camera, list);\n      scene.addEventListener('dispose', onSceneDispose);\n    } else {\n      list = cameras.get(camera);\n\n      if (list === undefined) {\n        list = new WebGLRenderList();\n        cameras.set(camera, list);\n      }\n    }\n\n    return list;\n  }\n\n  function dispose() {\n    lists = new WeakMap();\n  }\n\n  return {\n    get: get,\n    dispose: dispose\n  };\n}\n\nexport { WebGLRenderLists };","map":{"version":3,"sources":["H:/chrlab/src/component/panelComponent/Canvas/threejs/src/renderers/webgl/WebGLRenderLists.js"],"names":["painterSortStable","a","b","groupOrder","renderOrder","program","id","material","z","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","transparent","defaultProgram","init","length","getNextRenderItem","object","geometry","group","renderItem","undefined","push","unshift","sort","customOpaqueSort","customTransparentSort","finish","i","il","WebGLRenderLists","lists","WeakMap","onSceneDispose","event","scene","target","removeEventListener","delete","get","camera","cameras","list","set","addEventListener","dispose"],"mappings":"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","sourcesContent":["/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tvar renderItems = [];\n\tvar renderItemsIndex = 0;\n\n\tvar opaque = [];\n\tvar transparent = [];\n\n\tvar defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( var i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tvar renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tvar lists = new WeakMap();\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tlists.delete( scene );\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar cameras = lists.get( scene );\n\t\tvar list;\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists.set( scene, new WeakMap() );\n\t\t\tlists.get( scene ).set( camera, list );\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tlist = cameras.get( camera );\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tcameras.set( camera, list );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n\nexport { WebGLRenderLists };\n"]},"metadata":{},"sourceType":"module"}