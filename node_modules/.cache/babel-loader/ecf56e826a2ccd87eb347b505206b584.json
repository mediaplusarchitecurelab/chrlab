{"ast":null,"code":"import { UVMapping, CubeReflectionMapping, CubeRefractionMapping, EquirectangularReflectionMapping, EquirectangularRefractionMapping, SphericalReflectionMapping, CubeUVReflectionMapping, CubeUVRefractionMapping, RepeatWrapping, ClampToEdgeWrapping, MirroredRepeatWrapping, NearestFilter, NearestMipmapNearestFilter, NearestMipmapLinearFilter, LinearFilter, LinearMipmapNearestFilter, LinearMipmapLinearFilter } from '../constants.js';\nimport { BufferAttribute } from '../core/BufferAttribute.js';\nimport { Color } from '../math/Color.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { Group } from '../objects/Group.js';\nimport { InstancedMesh } from '../objects/InstancedMesh.js';\nimport { Sprite } from '../objects/Sprite.js';\nimport { Points } from '../objects/Points.js';\nimport { Line } from '../objects/Line.js';\nimport { LineLoop } from '../objects/LineLoop.js';\nimport { LineSegments } from '../objects/LineSegments.js';\nimport { LOD } from '../objects/LOD.js';\nimport { Mesh } from '../objects/Mesh.js';\nimport { Shape } from '../extras/core/Shape.js';\nimport { Fog } from '../scenes/Fog.js';\nimport { FogExp2 } from '../scenes/FogExp2.js';\nimport { HemisphereLight } from '../lights/HemisphereLight.js';\nimport { SpotLight } from '../lights/SpotLight.js';\nimport { PointLight } from '../lights/PointLight.js';\nimport { DirectionalLight } from '../lights/DirectionalLight.js';\nimport { AmbientLight } from '../lights/AmbientLight.js';\nimport { RectAreaLight } from '../lights/RectAreaLight.js';\nimport { OrthographicCamera } from '../cameras/OrthographicCamera.js';\nimport { PerspectiveCamera } from '../cameras/PerspectiveCamera.js';\nimport { Scene } from '../scenes/Scene.js';\nimport { CubeTexture } from '../textures/CubeTexture.js';\nimport { Texture } from '../textures/Texture.js';\nimport { ImageLoader } from './ImageLoader.js';\nimport { LoadingManager } from './LoadingManager.js';\nimport { AnimationClip } from '../animation/AnimationClip.js';\nimport { MaterialLoader } from './MaterialLoader.js';\nimport { LoaderUtils } from './LoaderUtils.js';\nimport { BufferGeometryLoader } from './BufferGeometryLoader.js';\nimport { Loader } from './Loader.js';\nimport { FileLoader } from './FileLoader.js';\nimport * as Geometries from '../geometries/Geometries.js';\nimport * as Curves from '../extras/curves/Curves.js';\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader(manager) {\n  Loader.call(this, manager);\n}\n\nObjectLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n  constructor: ObjectLoader,\n  load: function (url, onLoad, onProgress, onError) {\n    var scope = this;\n    var path = this.path === '' ? LoaderUtils.extractUrlBase(url) : this.path;\n    this.resourcePath = this.resourcePath || path;\n    var loader = new FileLoader(scope.manager);\n    loader.setPath(this.path);\n    loader.load(url, function (text) {\n      var json = null;\n\n      try {\n        json = JSON.parse(text);\n      } catch (error) {\n        if (onError !== undefined) onError(error);\n        console.error('THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message);\n        return;\n      }\n\n      var metadata = json.metadata;\n\n      if (metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry') {\n        console.error('THREE.ObjectLoader: Can\\'t load ' + url);\n        return;\n      }\n\n      scope.parse(json, onLoad);\n    }, onProgress, onError);\n  },\n  parse: function (json, onLoad) {\n    var shapes = this.parseShape(json.shapes);\n    var geometries = this.parseGeometries(json.geometries, shapes);\n    var images = this.parseImages(json.images, function () {\n      if (onLoad !== undefined) onLoad(object);\n    });\n    var textures = this.parseTextures(json.textures, images);\n    var materials = this.parseMaterials(json.materials, textures);\n    var object = this.parseObject(json.object, geometries, materials);\n\n    if (json.animations) {\n      object.animations = this.parseAnimations(json.animations);\n    }\n\n    if (json.images === undefined || json.images.length === 0) {\n      if (onLoad !== undefined) onLoad(object);\n    }\n\n    return object;\n  },\n  parseShape: function (json) {\n    var shapes = {};\n\n    if (json !== undefined) {\n      for (var i = 0, l = json.length; i < l; i++) {\n        var shape = new Shape().fromJSON(json[i]);\n        shapes[shape.uuid] = shape;\n      }\n    }\n\n    return shapes;\n  },\n  parseGeometries: function (json, shapes) {\n    var geometries = {};\n\n    if (json !== undefined) {\n      var bufferGeometryLoader = new BufferGeometryLoader();\n\n      for (var i = 0, l = json.length; i < l; i++) {\n        var geometry;\n        var data = json[i];\n\n        switch (data.type) {\n          case 'PlaneGeometry':\n          case 'PlaneBufferGeometry':\n            geometry = new Geometries[data.type](data.width, data.height, data.widthSegments, data.heightSegments);\n            break;\n\n          case 'BoxGeometry':\n          case 'BoxBufferGeometry':\n          case 'CubeGeometry':\n            // backwards compatible\n            geometry = new Geometries[data.type](data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments);\n            break;\n\n          case 'CircleGeometry':\n          case 'CircleBufferGeometry':\n            geometry = new Geometries[data.type](data.radius, data.segments, data.thetaStart, data.thetaLength);\n            break;\n\n          case 'CylinderGeometry':\n          case 'CylinderBufferGeometry':\n            geometry = new Geometries[data.type](data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n            break;\n\n          case 'ConeGeometry':\n          case 'ConeBufferGeometry':\n            geometry = new Geometries[data.type](data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n            break;\n\n          case 'SphereGeometry':\n          case 'SphereBufferGeometry':\n            geometry = new Geometries[data.type](data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength);\n            break;\n\n          case 'DodecahedronGeometry':\n          case 'DodecahedronBufferGeometry':\n          case 'IcosahedronGeometry':\n          case 'IcosahedronBufferGeometry':\n          case 'OctahedronGeometry':\n          case 'OctahedronBufferGeometry':\n          case 'TetrahedronGeometry':\n          case 'TetrahedronBufferGeometry':\n            geometry = new Geometries[data.type](data.radius, data.detail);\n            break;\n\n          case 'RingGeometry':\n          case 'RingBufferGeometry':\n            geometry = new Geometries[data.type](data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength);\n            break;\n\n          case 'TorusGeometry':\n          case 'TorusBufferGeometry':\n            geometry = new Geometries[data.type](data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc);\n            break;\n\n          case 'TorusKnotGeometry':\n          case 'TorusKnotBufferGeometry':\n            geometry = new Geometries[data.type](data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q);\n            break;\n\n          case 'TubeGeometry':\n          case 'TubeBufferGeometry':\n            // This only works for built-in curves (e.g. CatmullRomCurve3).\n            // User defined curves or instances of CurvePath will not be deserialized.\n            geometry = new Geometries[data.type](new Curves[data.path.type]().fromJSON(data.path), data.tubularSegments, data.radius, data.radialSegments, data.closed);\n            break;\n\n          case 'LatheGeometry':\n          case 'LatheBufferGeometry':\n            geometry = new Geometries[data.type](data.points, data.segments, data.phiStart, data.phiLength);\n            break;\n\n          case 'PolyhedronGeometry':\n          case 'PolyhedronBufferGeometry':\n            geometry = new Geometries[data.type](data.vertices, data.indices, data.radius, data.details);\n            break;\n\n          case 'ShapeGeometry':\n          case 'ShapeBufferGeometry':\n            var geometryShapes = [];\n\n            for (var j = 0, jl = data.shapes.length; j < jl; j++) {\n              var shape = shapes[data.shapes[j]];\n              geometryShapes.push(shape);\n            }\n\n            geometry = new Geometries[data.type](geometryShapes, data.curveSegments);\n            break;\n\n          case 'ExtrudeGeometry':\n          case 'ExtrudeBufferGeometry':\n            var geometryShapes = [];\n\n            for (var j = 0, jl = data.shapes.length; j < jl; j++) {\n              var shape = shapes[data.shapes[j]];\n              geometryShapes.push(shape);\n            }\n\n            var extrudePath = data.options.extrudePath;\n\n            if (extrudePath !== undefined) {\n              data.options.extrudePath = new Curves[extrudePath.type]().fromJSON(extrudePath);\n            }\n\n            geometry = new Geometries[data.type](geometryShapes, data.options);\n            break;\n\n          case 'BufferGeometry':\n          case 'InstancedBufferGeometry':\n            geometry = bufferGeometryLoader.parse(data);\n            break;\n\n          case 'Geometry':\n            console.error('THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.');\n            break;\n\n          default:\n            console.warn('THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"');\n            continue;\n        }\n\n        geometry.uuid = data.uuid;\n        if (data.name !== undefined) geometry.name = data.name;\n        if (geometry.isBufferGeometry === true && data.userData !== undefined) geometry.userData = data.userData;\n        geometries[data.uuid] = geometry;\n      }\n    }\n\n    return geometries;\n  },\n  parseMaterials: function (json, textures) {\n    var cache = {}; // MultiMaterial\n\n    var materials = {};\n\n    if (json !== undefined) {\n      var loader = new MaterialLoader();\n      loader.setTextures(textures);\n\n      for (var i = 0, l = json.length; i < l; i++) {\n        var data = json[i];\n\n        if (data.type === 'MultiMaterial') {\n          // Deprecated\n          var array = [];\n\n          for (var j = 0; j < data.materials.length; j++) {\n            var material = data.materials[j];\n\n            if (cache[material.uuid] === undefined) {\n              cache[material.uuid] = loader.parse(material);\n            }\n\n            array.push(cache[material.uuid]);\n          }\n\n          materials[data.uuid] = array;\n        } else {\n          if (cache[data.uuid] === undefined) {\n            cache[data.uuid] = loader.parse(data);\n          }\n\n          materials[data.uuid] = cache[data.uuid];\n        }\n      }\n    }\n\n    return materials;\n  },\n  parseAnimations: function (json) {\n    var animations = [];\n\n    for (var i = 0; i < json.length; i++) {\n      var data = json[i];\n      var clip = AnimationClip.parse(data);\n      if (data.uuid !== undefined) clip.uuid = data.uuid;\n      animations.push(clip);\n    }\n\n    return animations;\n  },\n  parseImages: function (json, onLoad) {\n    var scope = this;\n    var images = {};\n\n    function loadImage(url) {\n      scope.manager.itemStart(url);\n      return loader.load(url, function () {\n        scope.manager.itemEnd(url);\n      }, undefined, function () {\n        scope.manager.itemError(url);\n        scope.manager.itemEnd(url);\n      });\n    }\n\n    if (json !== undefined && json.length > 0) {\n      var manager = new LoadingManager(onLoad);\n      var loader = new ImageLoader(manager);\n      loader.setCrossOrigin(this.crossOrigin);\n\n      for (var i = 0, il = json.length; i < il; i++) {\n        var image = json[i];\n        var url = image.url;\n\n        if (Array.isArray(url)) {\n          // load array of images e.g CubeTexture\n          images[image.uuid] = [];\n\n          for (var j = 0, jl = url.length; j < jl; j++) {\n            var currentUrl = url[j];\n            var path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(currentUrl) ? currentUrl : scope.resourcePath + currentUrl;\n            images[image.uuid].push(loadImage(path));\n          }\n        } else {\n          // load single image\n          var path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(image.url) ? image.url : scope.resourcePath + image.url;\n          images[image.uuid] = loadImage(path);\n        }\n      }\n    }\n\n    return images;\n  },\n  parseTextures: function (json, images) {\n    function parseConstant(value, type) {\n      if (typeof value === 'number') return value;\n      console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value);\n      return type[value];\n    }\n\n    var textures = {};\n\n    if (json !== undefined) {\n      for (var i = 0, l = json.length; i < l; i++) {\n        var data = json[i];\n\n        if (data.image === undefined) {\n          console.warn('THREE.ObjectLoader: No \"image\" specified for', data.uuid);\n        }\n\n        if (images[data.image] === undefined) {\n          console.warn('THREE.ObjectLoader: Undefined image', data.image);\n        }\n\n        var texture;\n\n        if (Array.isArray(images[data.image])) {\n          texture = new CubeTexture(images[data.image]);\n        } else {\n          texture = new Texture(images[data.image]);\n        }\n\n        texture.needsUpdate = true;\n        texture.uuid = data.uuid;\n        if (data.name !== undefined) texture.name = data.name;\n        if (data.mapping !== undefined) texture.mapping = parseConstant(data.mapping, TEXTURE_MAPPING);\n        if (data.offset !== undefined) texture.offset.fromArray(data.offset);\n        if (data.repeat !== undefined) texture.repeat.fromArray(data.repeat);\n        if (data.center !== undefined) texture.center.fromArray(data.center);\n        if (data.rotation !== undefined) texture.rotation = data.rotation;\n\n        if (data.wrap !== undefined) {\n          texture.wrapS = parseConstant(data.wrap[0], TEXTURE_WRAPPING);\n          texture.wrapT = parseConstant(data.wrap[1], TEXTURE_WRAPPING);\n        }\n\n        if (data.format !== undefined) texture.format = data.format;\n        if (data.type !== undefined) texture.type = data.type;\n        if (data.encoding !== undefined) texture.encoding = data.encoding;\n        if (data.minFilter !== undefined) texture.minFilter = parseConstant(data.minFilter, TEXTURE_FILTER);\n        if (data.magFilter !== undefined) texture.magFilter = parseConstant(data.magFilter, TEXTURE_FILTER);\n        if (data.anisotropy !== undefined) texture.anisotropy = data.anisotropy;\n        if (data.flipY !== undefined) texture.flipY = data.flipY;\n        if (data.premultiplyAlpha !== undefined) texture.premultiplyAlpha = data.premultiplyAlpha;\n        if (data.unpackAlignment !== undefined) texture.unpackAlignment = data.unpackAlignment;\n        textures[data.uuid] = texture;\n      }\n    }\n\n    return textures;\n  },\n  parseObject: function (data, geometries, materials) {\n    var object;\n\n    function getGeometry(name) {\n      if (geometries[name] === undefined) {\n        console.warn('THREE.ObjectLoader: Undefined geometry', name);\n      }\n\n      return geometries[name];\n    }\n\n    function getMaterial(name) {\n      if (name === undefined) return undefined;\n\n      if (Array.isArray(name)) {\n        var array = [];\n\n        for (var i = 0, l = name.length; i < l; i++) {\n          var uuid = name[i];\n\n          if (materials[uuid] === undefined) {\n            console.warn('THREE.ObjectLoader: Undefined material', uuid);\n          }\n\n          array.push(materials[uuid]);\n        }\n\n        return array;\n      }\n\n      if (materials[name] === undefined) {\n        console.warn('THREE.ObjectLoader: Undefined material', name);\n      }\n\n      return materials[name];\n    }\n\n    switch (data.type) {\n      case 'Scene':\n        object = new Scene();\n\n        if (data.background !== undefined) {\n          if (Number.isInteger(data.background)) {\n            object.background = new Color(data.background);\n          }\n        }\n\n        if (data.fog !== undefined) {\n          if (data.fog.type === 'Fog') {\n            object.fog = new Fog(data.fog.color, data.fog.near, data.fog.far);\n          } else if (data.fog.type === 'FogExp2') {\n            object.fog = new FogExp2(data.fog.color, data.fog.density);\n          }\n        }\n\n        break;\n\n      case 'PerspectiveCamera':\n        object = new PerspectiveCamera(data.fov, data.aspect, data.near, data.far);\n        if (data.focus !== undefined) object.focus = data.focus;\n        if (data.zoom !== undefined) object.zoom = data.zoom;\n        if (data.filmGauge !== undefined) object.filmGauge = data.filmGauge;\n        if (data.filmOffset !== undefined) object.filmOffset = data.filmOffset;\n        if (data.view !== undefined) object.view = Object.assign({}, data.view);\n        break;\n\n      case 'OrthographicCamera':\n        object = new OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);\n        if (data.zoom !== undefined) object.zoom = data.zoom;\n        if (data.view !== undefined) object.view = Object.assign({}, data.view);\n        break;\n\n      case 'AmbientLight':\n        object = new AmbientLight(data.color, data.intensity);\n        break;\n\n      case 'DirectionalLight':\n        object = new DirectionalLight(data.color, data.intensity);\n        break;\n\n      case 'PointLight':\n        object = new PointLight(data.color, data.intensity, data.distance, data.decay);\n        break;\n\n      case 'RectAreaLight':\n        object = new RectAreaLight(data.color, data.intensity, data.width, data.height);\n        break;\n\n      case 'SpotLight':\n        object = new SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);\n        break;\n\n      case 'HemisphereLight':\n        object = new HemisphereLight(data.color, data.groundColor, data.intensity);\n        break;\n\n      case 'SkinnedMesh':\n        console.warn('THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.');\n\n      case 'Mesh':\n        var geometry = getGeometry(data.geometry);\n        var material = getMaterial(data.material);\n        object = new Mesh(geometry, material);\n        break;\n\n      case 'InstancedMesh':\n        var geometry = getGeometry(data.geometry);\n        var material = getMaterial(data.material);\n        var count = data.count;\n        var instanceMatrix = data.instanceMatrix;\n        object = new InstancedMesh(geometry, material, count);\n        object.instanceMatrix = new BufferAttribute(new Float32Array(instanceMatrix.array), 16);\n        break;\n\n      case 'LOD':\n        object = new LOD();\n        break;\n\n      case 'Line':\n        object = new Line(getGeometry(data.geometry), getMaterial(data.material), data.mode);\n        break;\n\n      case 'LineLoop':\n        object = new LineLoop(getGeometry(data.geometry), getMaterial(data.material));\n        break;\n\n      case 'LineSegments':\n        object = new LineSegments(getGeometry(data.geometry), getMaterial(data.material));\n        break;\n\n      case 'PointCloud':\n      case 'Points':\n        object = new Points(getGeometry(data.geometry), getMaterial(data.material));\n        break;\n\n      case 'Sprite':\n        object = new Sprite(getMaterial(data.material));\n        break;\n\n      case 'Group':\n        object = new Group();\n        break;\n\n      default:\n        object = new Object3D();\n    }\n\n    object.uuid = data.uuid;\n    if (data.name !== undefined) object.name = data.name;\n\n    if (data.matrix !== undefined) {\n      object.matrix.fromArray(data.matrix);\n      if (data.matrixAutoUpdate !== undefined) object.matrixAutoUpdate = data.matrixAutoUpdate;\n      if (object.matrixAutoUpdate) object.matrix.decompose(object.position, object.quaternion, object.scale);\n    } else {\n      if (data.position !== undefined) object.position.fromArray(data.position);\n      if (data.rotation !== undefined) object.rotation.fromArray(data.rotation);\n      if (data.quaternion !== undefined) object.quaternion.fromArray(data.quaternion);\n      if (data.scale !== undefined) object.scale.fromArray(data.scale);\n    }\n\n    if (data.castShadow !== undefined) object.castShadow = data.castShadow;\n    if (data.receiveShadow !== undefined) object.receiveShadow = data.receiveShadow;\n\n    if (data.shadow) {\n      if (data.shadow.bias !== undefined) object.shadow.bias = data.shadow.bias;\n      if (data.shadow.radius !== undefined) object.shadow.radius = data.shadow.radius;\n      if (data.shadow.mapSize !== undefined) object.shadow.mapSize.fromArray(data.shadow.mapSize);\n      if (data.shadow.camera !== undefined) object.shadow.camera = this.parseObject(data.shadow.camera);\n    }\n\n    if (data.visible !== undefined) object.visible = data.visible;\n    if (data.frustumCulled !== undefined) object.frustumCulled = data.frustumCulled;\n    if (data.renderOrder !== undefined) object.renderOrder = data.renderOrder;\n    if (data.userData !== undefined) object.userData = data.userData;\n    if (data.layers !== undefined) object.layers.mask = data.layers;\n\n    if (data.children !== undefined) {\n      var children = data.children;\n\n      for (var i = 0; i < children.length; i++) {\n        object.add(this.parseObject(children[i], geometries, materials));\n      }\n    }\n\n    if (data.type === 'LOD') {\n      if (data.autoUpdate !== undefined) object.autoUpdate = data.autoUpdate;\n      var levels = data.levels;\n\n      for (var l = 0; l < levels.length; l++) {\n        var level = levels[l];\n        var child = object.getObjectByProperty('uuid', level.object);\n\n        if (child !== undefined) {\n          object.addLevel(child, level.distance);\n        }\n      }\n    }\n\n    return object;\n  }\n});\nvar TEXTURE_MAPPING = {\n  UVMapping: UVMapping,\n  CubeReflectionMapping: CubeReflectionMapping,\n  CubeRefractionMapping: CubeRefractionMapping,\n  EquirectangularReflectionMapping: EquirectangularReflectionMapping,\n  EquirectangularRefractionMapping: EquirectangularRefractionMapping,\n  SphericalReflectionMapping: SphericalReflectionMapping,\n  CubeUVReflectionMapping: CubeUVReflectionMapping,\n  CubeUVRefractionMapping: CubeUVRefractionMapping\n};\nvar TEXTURE_WRAPPING = {\n  RepeatWrapping: RepeatWrapping,\n  ClampToEdgeWrapping: ClampToEdgeWrapping,\n  MirroredRepeatWrapping: MirroredRepeatWrapping\n};\nvar TEXTURE_FILTER = {\n  NearestFilter: NearestFilter,\n  NearestMipmapNearestFilter: NearestMipmapNearestFilter,\n  NearestMipmapLinearFilter: NearestMipmapLinearFilter,\n  LinearFilter: LinearFilter,\n  LinearMipmapNearestFilter: LinearMipmapNearestFilter,\n  LinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\nexport { ObjectLoader };","map":{"version":3,"sources":["H:/chrlab/src/component/panelComponent/Canvas/threejs/src/loaders/ObjectLoader.js"],"names":["UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipmapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipmapLinearFilter","BufferAttribute","Color","Object3D","Group","InstancedMesh","Sprite","Points","Line","LineLoop","LineSegments","LOD","Mesh","Shape","Fog","FogExp2","HemisphereLight","SpotLight","PointLight","DirectionalLight","AmbientLight","RectAreaLight","OrthographicCamera","PerspectiveCamera","Scene","CubeTexture","Texture","ImageLoader","LoadingManager","AnimationClip","MaterialLoader","LoaderUtils","BufferGeometryLoader","Loader","FileLoader","Geometries","Curves","ObjectLoader","manager","call","prototype","Object","assign","create","constructor","load","url","onLoad","onProgress","onError","scope","path","extractUrlBase","resourcePath","loader","setPath","text","json","JSON","parse","error","undefined","console","message","metadata","type","toLowerCase","shapes","parseShape","geometries","parseGeometries","images","parseImages","object","textures","parseTextures","materials","parseMaterials","parseObject","animations","parseAnimations","length","i","l","shape","fromJSON","uuid","bufferGeometryLoader","geometry","data","width","height","widthSegments","heightSegments","depth","depthSegments","radius","segments","thetaStart","thetaLength","radiusTop","radiusBottom","radialSegments","openEnded","phiStart","phiLength","detail","innerRadius","outerRadius","thetaSegments","phiSegments","tube","tubularSegments","arc","p","q","closed","points","vertices","indices","details","geometryShapes","j","jl","push","curveSegments","extrudePath","options","warn","name","isBufferGeometry","userData","cache","setTextures","array","material","clip","loadImage","itemStart","itemEnd","itemError","setCrossOrigin","crossOrigin","il","image","Array","isArray","currentUrl","test","parseConstant","value","texture","needsUpdate","mapping","TEXTURE_MAPPING","offset","fromArray","repeat","center","rotation","wrap","wrapS","TEXTURE_WRAPPING","wrapT","format","encoding","minFilter","TEXTURE_FILTER","magFilter","anisotropy","flipY","premultiplyAlpha","unpackAlignment","getGeometry","getMaterial","background","Number","isInteger","fog","color","near","far","density","fov","aspect","focus","zoom","filmGauge","filmOffset","view","left","right","top","bottom","intensity","distance","decay","angle","penumbra","groundColor","count","instanceMatrix","Float32Array","mode","matrix","matrixAutoUpdate","decompose","position","quaternion","scale","castShadow","receiveShadow","shadow","bias","mapSize","camera","visible","frustumCulled","renderOrder","layers","mask","children","add","autoUpdate","levels","level","child","getObjectByProperty","addLevel"],"mappings":"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","sourcesContent":["import {\n\tUVMapping,\n\tCubeReflectionMapping,\n\tCubeRefractionMapping,\n\tEquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping,\n\tSphericalReflectionMapping,\n\tCubeUVReflectionMapping,\n\tCubeUVRefractionMapping,\n\n\tRepeatWrapping,\n\tClampToEdgeWrapping,\n\tMirroredRepeatWrapping,\n\n\tNearestFilter,\n\tNearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter,\n\tLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter\n} from '../constants.js';\nimport { BufferAttribute } from '../core/BufferAttribute.js';\nimport { Color } from '../math/Color.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { Group } from '../objects/Group.js';\nimport { InstancedMesh } from '../objects/InstancedMesh.js';\nimport { Sprite } from '../objects/Sprite.js';\nimport { Points } from '../objects/Points.js';\nimport { Line } from '../objects/Line.js';\nimport { LineLoop } from '../objects/LineLoop.js';\nimport { LineSegments } from '../objects/LineSegments.js';\nimport { LOD } from '../objects/LOD.js';\nimport { Mesh } from '../objects/Mesh.js';\nimport { Shape } from '../extras/core/Shape.js';\nimport { Fog } from '../scenes/Fog.js';\nimport { FogExp2 } from '../scenes/FogExp2.js';\nimport { HemisphereLight } from '../lights/HemisphereLight.js';\nimport { SpotLight } from '../lights/SpotLight.js';\nimport { PointLight } from '../lights/PointLight.js';\nimport { DirectionalLight } from '../lights/DirectionalLight.js';\nimport { AmbientLight } from '../lights/AmbientLight.js';\nimport { RectAreaLight } from '../lights/RectAreaLight.js';\nimport { OrthographicCamera } from '../cameras/OrthographicCamera.js';\nimport { PerspectiveCamera } from '../cameras/PerspectiveCamera.js';\nimport { Scene } from '../scenes/Scene.js';\nimport { CubeTexture } from '../textures/CubeTexture.js';\nimport { Texture } from '../textures/Texture.js';\nimport { ImageLoader } from './ImageLoader.js';\nimport { LoadingManager } from './LoadingManager.js';\nimport { AnimationClip } from '../animation/AnimationClip.js';\nimport { MaterialLoader } from './MaterialLoader.js';\nimport { LoaderUtils } from './LoaderUtils.js';\nimport { BufferGeometryLoader } from './BufferGeometryLoader.js';\nimport { Loader } from './Loader.js';\nimport { FileLoader } from './FileLoader.js';\nimport * as Geometries from '../geometries/Geometries.js';\nimport * as Curves from '../extras/curves/Curves.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nObjectLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ObjectLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar shapes = this.parseShape( json.shapes );\n\t\tvar geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tvar images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tvar textures = this.parseTextures( json.textures, images );\n\t\tvar materials = this.parseMaterials( json.materials, textures );\n\n\t\tvar object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t},\n\n\tparseShape: function ( json ) {\n\n\t\tvar shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t},\n\n\tparseGeometries: function ( json, shapes ) {\n\n\t\tvar geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar geometry;\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json, textures ) {\n\n\t\tvar cache = {}; // MultiMaterial\n\t\tvar materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tvar material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseAnimations: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar data = json[ i ];\n\n\t\t\tvar clip = AnimationClip.parse( data );\n\n\t\t\tif ( data.uuid !== undefined ) clip.uuid = data.uuid;\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tparseImages: function ( json, onLoad ) {\n\n\t\tvar scope = this;\n\t\tvar images = {};\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tvar manager = new LoadingManager( onLoad );\n\n\t\t\tvar loader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( var i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tvar image = json[ i ];\n\t\t\t\tvar url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( var j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar currentUrl = url[ j ];\n\n\t\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( currentUrl ) ? currentUrl : scope.resourcePath + currentUrl;\n\n\t\t\t\t\t\timages[ image.uuid ].push( loadImage( path ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.resourcePath + image.url;\n\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t},\n\n\tparseTextures: function ( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tvar textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( Array.isArray( images[ data.image ] ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( images[ data.image ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = new Texture( images[ data.image ] );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t},\n\n\tparseObject: function ( data, geometries, materials ) {\n\n\t\tvar object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tvar uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\t\t\t\tvar count = data.count;\n\t\t\t\tvar instanceMatrix = data.instanceMatrix;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tvar children = data.children;\n\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tvar levels = data.levels;\n\n\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tvar level = levels[ l ];\n\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n} );\n\nvar TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tSphericalReflectionMapping: SphericalReflectionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nvar TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nvar TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\n\nexport { ObjectLoader };\n"]},"metadata":{},"sourceType":"module"}