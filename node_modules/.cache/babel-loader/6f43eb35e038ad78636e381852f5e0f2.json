{"ast":null,"code":"import * as THREE from 'three';\nimport agentProduct from './agentProduct';\n\nclass agentCONTAINER {\n  constructor(pv3, scene) {\n    this.prop = {\n      id: 'na',\n      type: 'p-3',\n      contain: null,\n      basecen: pv3,\n      size: new THREE.Vector3(45.0, 45.0, 45.0),\n      open: new THREE.Vector3(1, 0.0, 0.0),\n      state: 0,\n      sel: false,\n      mesh: new THREE.Mesh(),\n      mat: new THREE.MeshBasicMaterial({\n        color: 0xaaffff,\n        opacity: 0.2,\n        transparent: true,\n        wireframe: true\n      }),\n      //pmat:new THREE.MeshBasicMaterial( {color: 0xff0000, opacity: 0.8, transparent: true} ),\n      scene: scene,\n      dom: null\n    };\n    this.init();\n  }\n\n  init() {\n    const geo = new THREE.BoxBufferGeometry(this.prop.size.x, this.prop.size.y, this.prop.size.z);\n    this.prop.mesh = new THREE.Mesh(geo, this.prop.mat); //const pgeo= new THREE.BoxBufferGeometry( this.prop.size.x*0.6, this.prop.size.y*0.6, this.prop.size.z*0.6 );\n    //this.prop.mesh.add(new THREE.Mesh( geo, this.prop.mat ));\n    //this.prop.mesh.add(new THREE.Mesh( pgeo, this.prop.pmat ));\n\n    this.prop.scene.add(this.prop.mesh);\n    this.setPosition(this.prop.basecen); // dom\n\n    this.prop.dom = document.createElement('button');\n    this.prop.dom.id = this.prop.id + '-btn';\n    this.prop.dom.innerHTML = '-';\n    this.prop.dom.style.fontSize = '11px';\n    this.prop.dom.style.padding = '1px 3px';\n    this.prop.dom.style.margin = '1px';\n    this.prop.dom.style.backgroundColor = 'rgba(0,0,0)';\n    this.prop.dom.style.color = 'white';\n    this.prop.dom.style.border = 'none';\n    this.prop.dom.style.cursor = 'pointer'; //this.prop.dom.style.cursor.display='inline-block';\n\n    this.prop.dom.addEventListener(\"mouseenter\", () => {\n      this.prop.dom.style.backgroundColor = 'rgba(255,0,0,0.8)';\n    });\n    this.prop.dom.addEventListener(\"mouseout\", () => {\n      this.prop.dom.style.backgroundColor = 'rgba(0,0,0)';\n    });\n    this.prop.dom.addEventListener(\"click\", () => {\n      if (this.prop.state === 1) {\n        this.prop.contain.setRemove();\n        this.setRemove();\n      }\n    });\n  }\n\n  setType(v) {\n    this.prop.type = v;\n  }\n\n  setPosition(v) {\n    this.prop.basecen = v; // Hight modify\n\n    this.prop.mesh.position.set(this.prop.basecen.x, this.prop.basecen.y + this.prop.size.y * 0.5, this.prop.basecen.z);\n  }\n\n  setSize(v) {\n    this.prop.size = v;\n    this.setPosition(this.prop.basecen);\n  }\n\n  setSel() {\n    this.prop.sel = true;\n  }\n\n  setDesel() {\n    this.prop.sel = false;\n  }\n\n  setId(v) {\n    this.prop.id = v;\n  }\n\n  setContain(v) {\n    this.prop.contain = v;\n    this.prop.state = 1;\n  }\n\n  setRemove() {\n    this.prop.contain = null;\n    this.prop.state = 0;\n  }\n\n  getInfo() {\n    let t = '';\n\n    if (this.prop.sel) {\n      t = '<li id=\"' + this.prop.id + '\" style=\"color:yellow;\">' + this.prop.id + '(' + this.prop.type + ') : ' + this.prop.state + ' </li >';\n    } else {\n      if (this.prop.state === 0) {\n        t = '<li id=\"' + this.prop.id + '\" style=\"color:red;\">' + this.prop.id + '(' + this.prop.type + ') : ' + this.prop.state + ' </li >';\n      } else {\n        t = '<li id=\"' + this.prop.id + '\" >' + this.prop.id + '(' + this.prop.type + ') : ' + this.prop.state + ' </li >';\n      }\n    }\n\n    return t;\n  }\n\n  assignDom() {\n    document.getElementById(this.prop.id).appendChild(this.prop.dom);\n  }\n\n}\n\nexport default agentCONTAINER;","map":{"version":3,"sources":["D:/chrlab/src/component/panelComponent/Canvas/StorageStorejs/threejs/agentCONTAINER.js"],"names":["THREE","agentProduct","agentCONTAINER","constructor","pv3","scene","prop","id","type","contain","basecen","size","Vector3","open","state","sel","mesh","Mesh","mat","MeshBasicMaterial","color","opacity","transparent","wireframe","dom","init","geo","BoxBufferGeometry","x","y","z","add","setPosition","document","createElement","innerHTML","style","fontSize","padding","margin","backgroundColor","border","cursor","addEventListener","setRemove","setType","v","position","set","setSize","setSel","setDesel","setId","setContain","getInfo","t","assignDom","getElementById","appendChild"],"mappings":"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","sourcesContent":["import * as THREE from 'three';\r\nimport agentProduct from './agentProduct';\r\n\r\nclass agentCONTAINER {\r\n    constructor(pv3,scene) {\r\n        this.prop ={\r\n            id:'na',\r\n            type:'p-3',\r\n            contain:null,\r\n            basecen:pv3,\r\n            size:new THREE.Vector3(45.0,45.0,45.0),\r\n            open:new THREE.Vector3(1,0.0,0.0),\r\n            state:0,\r\n            sel:false,\r\n            mesh:new THREE.Mesh(),\r\n            mat:new THREE.MeshBasicMaterial( {color: 0xaaffff, opacity: 0.2, transparent: true, wireframe:true} ),\r\n            //pmat:new THREE.MeshBasicMaterial( {color: 0xff0000, opacity: 0.8, transparent: true} ),\r\n            scene:scene,\r\n            dom:null\r\n        }\r\n       this.init();\r\n     }\r\n    init(){\r\n        const geo= new THREE.BoxBufferGeometry( this.prop.size.x, this.prop.size.y, this.prop.size.z );\r\n        this.prop.mesh = new THREE.Mesh( geo, this.prop.mat );\r\n        //const pgeo= new THREE.BoxBufferGeometry( this.prop.size.x*0.6, this.prop.size.y*0.6, this.prop.size.z*0.6 );\r\n        //this.prop.mesh.add(new THREE.Mesh( geo, this.prop.mat ));\r\n        //this.prop.mesh.add(new THREE.Mesh( pgeo, this.prop.pmat ));\r\n        this.prop.scene.add(this.prop.mesh);\r\n        this.setPosition( this.prop.basecen);\r\n\r\n        // dom\r\n        this.prop.dom = document.createElement('button');\r\n        this.prop.dom.id = this.prop.id+'-btn';\r\n        this.prop.dom.innerHTML = '-';\r\n        this.prop.dom.style.fontSize='11px';\r\n        this.prop.dom.style.padding='1px 3px';\r\n        this.prop.dom.style.margin='1px';\r\n        this.prop.dom.style.backgroundColor='rgba(0,0,0)';\r\n        this.prop.dom.style.color='white';\r\n        this.prop.dom.style.border='none';\r\n        this.prop.dom.style.cursor='pointer';\r\n        //this.prop.dom.style.cursor.display='inline-block';\r\n        this.prop.dom.addEventListener(\"mouseenter\",()=> {\r\n            this.prop.dom.style.backgroundColor='rgba(255,0,0,0.8)';\r\n        });\r\n        this.prop.dom.addEventListener(\"mouseout\",()=> {\r\n            this.prop.dom.style.backgroundColor='rgba(0,0,0)';\r\n        });\r\n        this.prop.dom.addEventListener(\"click\",()=> {\r\n            if (this.prop.state===1){\r\n                this.prop.contain.setRemove();\r\n                this.setRemove();\r\n            }\r\n        });\r\n    }\r\n    setType(v){\r\n        this.prop.type=v;\r\n    }\r\n    setPosition(v){\r\n        this.prop.basecen=v;\r\n        // Hight modify\r\n        this.prop.mesh.position.set(this.prop.basecen.x,this.prop.basecen.y+this.prop.size.y*0.5,this.prop.basecen.z);\r\n    }\r\n    setSize(v){\r\n        this.prop.size=v;\r\n        this.setPosition(this.prop.basecen);\r\n    }\r\n    setSel(){\r\n        this.prop.sel=true;\r\n    }\r\n    setDesel(){\r\n        this.prop.sel=false;\r\n    }\r\n    setId(v){\r\n        this.prop.id=v;\r\n    }\r\n    setContain(v){\r\n        this.prop.contain=v;\r\n        this.prop.state=1;\r\n    }\r\n    setRemove(){\r\n        this.prop.contain=null;\r\n        this.prop.state=0;\r\n    }\r\n    getInfo(){\r\n        let t = '';\r\n        if (this.prop.sel){\r\n            t='<li id=\"'+this.prop.id+'\" style=\"color:yellow;\">'+this.prop.id+'('+this.prop.type+') : '+this.prop.state+' </li >';\r\n        }else{\r\n            if (this.prop.state===0){\r\n                t='<li id=\"'+this.prop.id+'\" style=\"color:red;\">'+this.prop.id+'('+this.prop.type+') : '+this.prop.state+' </li >';\r\n            }else{\r\n                t='<li id=\"'+this.prop.id+'\" >'+this.prop.id+'('+this.prop.type+') : '+this.prop.state+' </li >';\r\n            }\r\n            \r\n        }\r\n        return t;\r\n    }\r\n    assignDom(){\r\n        document.getElementById(this.prop.id).appendChild(this.prop.dom);\r\n    }\r\n}\r\nexport default agentCONTAINER;"]},"metadata":{},"sourceType":"module"}