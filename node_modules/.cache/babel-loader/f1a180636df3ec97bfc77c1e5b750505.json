{"ast":null,"code":"/**\n * @author thespite / http://www.twitter.com/thespite\n */\nimport { RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_10x10_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGB_ETC1_Format, RGB_ETC2_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT5_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT1_Format, RGB_S3TC_DXT1_Format, DepthFormat, DepthStencilFormat, LuminanceAlphaFormat, LuminanceFormat, RedFormat, RGBAFormat, RGBFormat, AlphaFormat, RedIntegerFormat, RGFormat, RGIntegerFormat, RGBIntegerFormat, RGBAIntegerFormat, HalfFloatType, FloatType, UnsignedIntType, IntType, UnsignedShortType, ShortType, ByteType, UnsignedInt248Type, UnsignedShort565Type, UnsignedShort5551Type, UnsignedShort4444Type, UnsignedByteType, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, RGBA_BPTC_Format } from '../../constants.js';\n\nfunction WebGLUtils(gl, extensions, capabilities) {\n  var isWebGL2 = capabilities.isWebGL2;\n\n  function convert(p) {\n    var extension;\n    if (p === UnsignedByteType) return gl.UNSIGNED_BYTE;\n    if (p === UnsignedShort4444Type) return gl.UNSIGNED_SHORT_4_4_4_4;\n    if (p === UnsignedShort5551Type) return gl.UNSIGNED_SHORT_5_5_5_1;\n    if (p === UnsignedShort565Type) return gl.UNSIGNED_SHORT_5_6_5;\n    if (p === ByteType) return gl.BYTE;\n    if (p === ShortType) return gl.SHORT;\n    if (p === UnsignedShortType) return gl.UNSIGNED_SHORT;\n    if (p === IntType) return gl.INT;\n    if (p === UnsignedIntType) return gl.UNSIGNED_INT;\n    if (p === FloatType) return gl.FLOAT;\n\n    if (p === HalfFloatType) {\n      if (isWebGL2) return gl.HALF_FLOAT;\n      extension = extensions.get('OES_texture_half_float');\n\n      if (extension !== null) {\n        return extension.HALF_FLOAT_OES;\n      } else {\n        return null;\n      }\n    }\n\n    if (p === AlphaFormat) return gl.ALPHA;\n    if (p === RGBFormat) return gl.RGB;\n    if (p === RGBAFormat) return gl.RGBA;\n    if (p === LuminanceFormat) return gl.LUMINANCE;\n    if (p === LuminanceAlphaFormat) return gl.LUMINANCE_ALPHA;\n    if (p === DepthFormat) return gl.DEPTH_COMPONENT;\n    if (p === DepthStencilFormat) return gl.DEPTH_STENCIL;\n    if (p === RedFormat) return gl.RED; // WebGL2 formats.\n\n    if (p === RedIntegerFormat) return gl.RED_INTEGER;\n    if (p === RGFormat) return gl.RG;\n    if (p === RGIntegerFormat) return gl.RG_INTEGER;\n    if (p === RGBIntegerFormat) return gl.RGB_INTEGER;\n    if (p === RGBAIntegerFormat) return gl.RGBA_INTEGER;\n\n    if (p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format || p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format) {\n      extension = extensions.get('WEBGL_compressed_texture_s3tc');\n\n      if (extension !== null) {\n        if (p === RGB_S3TC_DXT1_Format) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n        if (p === RGBA_S3TC_DXT1_Format) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n        if (p === RGBA_S3TC_DXT3_Format) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n        if (p === RGBA_S3TC_DXT5_Format) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n      } else {\n        return null;\n      }\n    }\n\n    if (p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format || p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format) {\n      extension = extensions.get('WEBGL_compressed_texture_pvrtc');\n\n      if (extension !== null) {\n        if (p === RGB_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n        if (p === RGB_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n        if (p === RGBA_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n        if (p === RGBA_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n      } else {\n        return null;\n      }\n    }\n\n    if (p === RGB_ETC1_Format) {\n      extension = extensions.get('WEBGL_compressed_texture_etc1');\n\n      if (extension !== null) {\n        return extension.COMPRESSED_RGB_ETC1_WEBGL;\n      } else {\n        return null;\n      }\n    }\n\n    if (p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format) {\n      extension = extensions.get('WEBGL_compressed_texture_etc');\n\n      if (extension !== null) {\n        if (p === RGB_ETC2_Format) return extension.COMPRESSED_RGB8_ETC2;\n        if (p === RGBA_ETC2_EAC_Format) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n      }\n    }\n\n    if (p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format || p === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format || p === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format || p === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format || p === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format || p === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format || p === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format || p === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format || p === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format || p === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format) {\n      extension = extensions.get('WEBGL_compressed_texture_astc');\n\n      if (extension !== null) {\n        // TODO Complete?\n        return p;\n      } else {\n        return null;\n      }\n    }\n\n    if (p === RGBA_BPTC_Format) {\n      extension = extensions.get('EXT_texture_compression_bptc');\n\n      if (extension !== null) {\n        // TODO Complete?\n        return p;\n      } else {\n        return null;\n      }\n    }\n\n    if (p === UnsignedInt248Type) {\n      if (isWebGL2) return gl.UNSIGNED_INT_24_8;\n      extension = extensions.get('WEBGL_depth_texture');\n\n      if (extension !== null) {\n        return extension.UNSIGNED_INT_24_8_WEBGL;\n      } else {\n        return null;\n      }\n    }\n  }\n\n  return {\n    convert: convert\n  };\n}\n\nexport { WebGLUtils };","map":{"version":3,"sources":["H:/chrlab/src/component/panelComponent/Canvas/threejs/src/renderers/webgl/WebGLUtils.js"],"names":["RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGB_PVRTC_4BPPV1_Format","RGBA_S3TC_DXT5_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT1_Format","RGB_S3TC_DXT1_Format","DepthFormat","DepthStencilFormat","LuminanceAlphaFormat","LuminanceFormat","RedFormat","RGBAFormat","RGBFormat","AlphaFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","HalfFloatType","FloatType","UnsignedIntType","IntType","UnsignedShortType","ShortType","ByteType","UnsignedInt248Type","UnsignedShort565Type","UnsignedShort5551Type","UnsignedShort4444Type","UnsignedByteType","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","RGBA_BPTC_Format","WebGLUtils","gl","extensions","capabilities","isWebGL2","convert","p","extension","UNSIGNED_BYTE","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_5_6_5","BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","FLOAT","HALF_FLOAT","get","HALF_FLOAT_OES","ALPHA","RGB","RGBA","LUMINANCE","LUMINANCE_ALPHA","DEPTH_COMPONENT","DEPTH_STENCIL","RED","RED_INTEGER","RG","RG_INTEGER","RGB_INTEGER","RGBA_INTEGER","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8","UNSIGNED_INT_24_8_WEBGL"],"mappings":"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","sourcesContent":["/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nimport { RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_10x10_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGB_ETC1_Format, RGB_ETC2_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT5_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT1_Format, RGB_S3TC_DXT1_Format, DepthFormat, DepthStencilFormat, LuminanceAlphaFormat, LuminanceFormat, RedFormat, RGBAFormat, RGBFormat, AlphaFormat, RedIntegerFormat, RGFormat, RGIntegerFormat, RGBIntegerFormat, RGBAIntegerFormat, HalfFloatType, FloatType, UnsignedIntType, IntType, UnsignedShortType, ShortType, ByteType, UnsignedInt248Type, UnsignedShort565Type, UnsignedShort5551Type, UnsignedShort4444Type, UnsignedByteType, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, RGBA_BPTC_Format } from '../../constants.js';\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tvar extension;\n\n\t\tif ( p === UnsignedByteType ) return gl.UNSIGNED_BYTE;\n\t\tif ( p === UnsignedShort4444Type ) return gl.UNSIGNED_SHORT_4_4_4_4;\n\t\tif ( p === UnsignedShort5551Type ) return gl.UNSIGNED_SHORT_5_5_5_1;\n\t\tif ( p === UnsignedShort565Type ) return gl.UNSIGNED_SHORT_5_6_5;\n\n\t\tif ( p === ByteType ) return gl.BYTE;\n\t\tif ( p === ShortType ) return gl.SHORT;\n\t\tif ( p === UnsignedShortType ) return gl.UNSIGNED_SHORT;\n\t\tif ( p === IntType ) return gl.INT;\n\t\tif ( p === UnsignedIntType ) return gl.UNSIGNED_INT;\n\t\tif ( p === FloatType ) return gl.FLOAT;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return gl.HALF_FLOAT;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return gl.ALPHA;\n\t\tif ( p === RGBFormat ) return gl.RGB;\n\t\tif ( p === RGBAFormat ) return gl.RGBA;\n\t\tif ( p === LuminanceFormat ) return gl.LUMINANCE;\n\t\tif ( p === LuminanceAlphaFormat ) return gl.LUMINANCE_ALPHA;\n\t\tif ( p === DepthFormat ) return gl.DEPTH_COMPONENT;\n\t\tif ( p === DepthStencilFormat ) return gl.DEPTH_STENCIL;\n\t\tif ( p === RedFormat ) return gl.RED;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return gl.RED_INTEGER;\n\t\tif ( p === RGFormat ) return gl.RG;\n\t\tif ( p === RGIntegerFormat ) return gl.RG_INTEGER;\n\t\tif ( p === RGBIntegerFormat ) return gl.RGB_INTEGER;\n\t\tif ( p === RGBAIntegerFormat ) return gl.RGBA_INTEGER;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return gl.UNSIGNED_INT_24_8;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n\nexport { WebGLUtils };\n"]},"metadata":{},"sourceType":"module"}